<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Effective C++ - Item.7" /><meta property="og:locale" content="en" /><meta name="description" content="다형성을 가진 기본 클래스에서는 소멸자를 반드시 가상 소멸자로 선언하자" /><meta property="og:description" content="다형성을 가진 기본 클래스에서는 소멸자를 반드시 가상 소멸자로 선언하자" /><link rel="canonical" href="https://issuh.github.io/posts/effective_c++_item_7/" /><meta property="og:url" content="https://issuh.github.io/posts/effective_c++_item_7/" /><meta property="og:site_name" content="My Technical Diary" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-05-04T22:18:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Effective C++ - Item.7" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-05-04T22:18:00+09:00","datePublished":"2020-05-04T22:18:00+09:00","description":"다형성을 가진 기본 클래스에서는 소멸자를 반드시 가상 소멸자로 선언하자","headline":"Effective C++ - Item.7","mainEntityOfPage":{"@type":"WebPage","@id":"https://issuh.github.io/posts/effective_c++_item_7/"},"url":"https://issuh.github.io/posts/effective_c++_item_7/"}</script><title>Effective C++ - Item.7 | My Technical Diary</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="My Technical Diary"><meta name="application-name" content="My Technical Diary"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/profile.jpeg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">My Technical Diary</a></div><div class="site-subtitle font-italic">ISSuh's tech blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/aboutme/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ISSuh" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['yoyus5','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Effective C++ - Item.7</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Effective C++ - Item.7</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/ISSuh">ISSuh</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1588598280" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2020-05-04 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2410 words"> <em>13 min</em> read</span></div></div></div><div class="post-content"><h1 id="다형성을-가진-기본-클래스에서는-소멸자를-반드시-가상-소멸자로-선언하자">다형성을 가진 기본 클래스에서는 소멸자를 반드시 가상 소멸자로 선언하자</h1><hr /><h2 id="내용"><span class="mr-2">내용</span><a href="#내용" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="가상-소멸자"><span class="mr-2">가상 소멸자</span><a href="#가상-소멸자" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>C++의 규정에 의하면, 기본 클래스 포인터를 통해 파생 클래스 객체가 삭제 될때, 그 기본 클래스에 비가상 소멸자가 있으면 프로그램 동작은 미정의 사항이라고 되어 있다. 대개 그 객체의 파생 클래스 부분이 소멸되지 않게 된다.</p><p>이러한 문제를 해결하기 위한 해결방법으로는 간단하게 기본클래스의 소멸자를 가상 소멸자로 선언하는 것이다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Base</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">Base</span><span class="p">();</span>    <span class="c1">// 가상 소멸자 선언</span>

  <span class="p">...</span>

<span class="p">};</span>

<span class="k">class</span> <span class="nc">Derived</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Base</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
</pre></table></code></div></div><p>일반적으로, 가상 함수를 하나라도 가진 클래스는 가상 소멸자를 가져야 하는 것이 대부분 맞는 말이다.</p><p>어느 경우를 막론하고, 소멸자를 전부 virtual로 선언하는 일은 virtual로 절대 선언하지 않는 것만큼이나 좋지 않은 생각이다. 가상 소멸자를 선언하는 것은 그 클래스에 가상 함수가 하나라도 들어있는 경우에만 한정하는 것이 좋다.</p><h3 id="virtual-table"><span class="mr-2">Virtual Table</span><a href="#virtual-table" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>가상 소멸자를 가지고 있지 않은 클래스를 만나면 컴파일러는 ‘저 클래스는 기본 클래스로 쓰이지 않는 클래스 구나’ 라고 생각한다. 반대로 생각해도 마찬가지 인데, 기본 클래스로 의도하지 않은 클래스에 대해 가상 소멸자를 선언하는 것은 좋지 않은 경우이다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Point</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="n">Point</span><span class="p">(</span><span class="kt">int</span> <span class="n">xCoord</span><span class="p">,</span> <span class="kt">int</span> <span class="n">yCoord</span><span class="p">);</span>
  <span class="o">~</span><span class="n">Point</span><span class="p">();</span>

<span class="nl">private:</span>
  <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><p>int가 32비트를 차지한다고 가정하면, 이 Point 객체는 64비트 레지스터에 딱 맞게 들어 갈수 있을 것이다. 그런데, Point 클래스가 가상 소멸자로 들어가게 되는 순간, 사정이 변하게 된다.</p><p>가상 함수를 C++에서 구현하려면 클래스에 별도의 자료구조가 하나 더 들어가야 한다. 이 자료구조는 프로그램 실행 중에 주어진 객체에 대해 어떤 가상 함수를 호출해야 하는지를 결정하는데 쓰이는 정보인데, 실체로는 포인터의 형태를 가지는 것이 대부분이고, 대개 <strong>vptr(Virtual Table Pointer)</strong> 이라는 이름으로 불린다. <em>vptr</em>은 가상함수의 주소, 즉 포인터들의 배열을 가리키고 있으며 가상 함수 테이블 포인터의 배열은 <strong>vtbl(Virtual Table)</strong> 이라고 불린다.</p><p>가상함수를 하나라도 가지고 있는 클래스는 반드시 그와 관련된 <em>vtbl</em>을 가지고 있다. 어떤 객체에 대해 어떤 가상함수가 호출되려고 하면, 호출되는 실제 함수는 그 객체의 <em>vptr</em>이 가르키는 <em>vtbl</em>에 따라 결정된다. <em>vtbl</em>에 있는 함수 포인터들 중 적절한 것이 연결되는 것이다.</p><p>가장 중요한 것은 예제 Point 클래스에 가상 함수가 들어가게 되면, Point 타입 객체의 크기가 커진다는 점이다. 프로그램 실행환경이 32비트 아키텍처라면, 크기가 64비트(int 두개)에서 96비트(int 두개에 <em>vpt</em>r하나)로 커지게 된다. 64비트 아키텍처에서는 포인터 크기는 64비트이므로, Point 객체의 크기가 64비트에서 128비트로 커질 수 있다.</p><p>Point 객체는 가상 함수 테이블 포인터가 하나 추가되었을 뿐인데 크기가 무려 50% 에서 100% 까지 커지게 된다. 또한 C 등의 다른 언어로 선언된 동일한 자료구조와도 호환성이 없어지게 된다. 왜냐하면 다른 언어로 Point와 겉보기가 똑같은 데이터 배치를 써서 선언했다고 해도 <em>vptr</em>만은 어떻게 만들 수 없기 때문이다. 결국, 다른 언어로 작성된 함수에 Point 객체를 전달하고 또 그 함수로부터 전달받을 수 있게 하려면 <em>vptr</em>부분을 어떻게든 보충해 주어야 하는데, 이 부분부터는 구현환결에 따라 세부사항이 달라지는 문제이기 때문에 이식성에 대한 기대는 할 수 없게 된다.</p><h3 id="가상-소멸자가-없는-클래스들"><span class="mr-2">가상 소멸자가 없는 클래스들</span><a href="#가상-소멸자가-없는-클래스들" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>가상함수가 전혀 없는데도 비가상 소멸자 때문에 함정에 빠지는 경우도 있다. 한 예가 표준 string 타입이다. 이 타입은 가상함수를 가지고 있지 않지만, 전후 사정을 무시하고 이 타입을 기본 클래스로 잡아버리는 일부 프로그래머가 있다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="c1">// std::string 에는 가상 소멸자가 없다</span>
<span class="k">class</span> <span class="nc">MyString</span> <span class="o">:</span> <span class="k">public</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>

<span class="p">...</span>

<span class="n">MyString</span><span class="o">*</span> <span class="n">pss</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">MyString</span><span class="p">(</span><span class="s">"Hello World"</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">*</span><span class="n">ps</span><span class="p">;</span>

<span class="n">ps</span> <span class="o">=</span> <span class="n">pss</span><span class="p">;</span>         <span class="c1">// MyString* ==&gt; std::string*</span>

<span class="k">delete</span> <span class="n">ps</span><span class="p">;</span>        <span class="c1">// 정의되지 않은 동작이 발생한다</span>
                  <span class="c1">// 실질적으로는 *ps의 MyString 부분에 있는 자원이 누출되는데,</span>
                  <span class="c1">// 그 이유는 MyString의 소멸자가 호출되지 않기 때문이다</span>
</pre></table></code></div></div><p>위와 같은 현상은 가상 소멸자가 없는 클래스면 어떤 것에는 전부 적용 된다. string과 같은 STL 컨테이너 타입 전부가 여기에 속한다.</p><h4 id="순수-가상-소멸자"><span class="mr-2">순수 가상 소멸자</span><a href="#순수-가상-소멸자" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>경우에 따라 순수 가상 소멸자를 두면 편리하게 사용 할 수도 있다. 순수 가상 함수는 해당 클래스를 <strong>추상 클래스(Abstract Calss : 그 타입의 객체를 생성할 수 없는)</strong> 로 만든다. 하지만 어떤 클래스가 추상 클래스였으면 좋겠는데 마땅히 넣은 만할 순수 가상 함수가 없을 때도 종종 생기게 된다.</p><p>추상 클래스는 본래 기본 클래스로 쓰일 목적으로 만들어진 것이고, 기본 클래스로 쓰이려는 클래스는 가상 소멸자를 가져야 한다. 한편 순수 가상 함수가 있으면 바로 추상 클래스가 된다. 종합해보면, 추상 클래스로 만들고 싶은 클래스에 순수 가상 소멸자를 선언하는 것이다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">AWOV</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">AWOV</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="p">...</span>

<span class="p">};</span>
</pre></table></code></div></div><p>AWOV 클래스는 순수 가상 함수를 가지고 있으므로, 우선 추상 클래스이고, 순수 가상 함수가 가상 소멸자 이므로 앞에서 말한 소멸자 호출 문제로 고민할 필요가 없어지게 된다. 그러나 한가지 짚고 넘어가야 하는 것은, 이 순수 가상 소멸자의 정의를 두지 않으면 안된다는 것이다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c1">// 순수 가상 소멸자의 정의</span>
<span class="n">AWOV</span><span class="o">::~</span><span class="n">AWOV</span><span class="p">()</span> <span class="p">{}</span>
</pre></table></code></div></div><p>소멸자가 동작하는 순서는, 상속 계통 구조에서 가장 말단에 있는 파생클래스의 소멸자가 먼저 호출되는 것을 시작으로, 기본 클래스 쪽으로 거쳐 올라가면서 각 기본 클래스의 소멸자가 하나씩 호출된다. 컴파일러는 ~AWOV의 호출 코드를 만들기 위해 파생 클래스의 소멸자를 사용할 것이므로, 잊지 말고 이 함수의 본문을 준비해 두어야 하는 것이다. 만약 이부분을 잊으면 링커 에러가 발생하게 된다.</p><h3 id="소멸자와-다형성"><span class="mr-2">소멸자와 다형성</span><a href="#소멸자와-다형성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>기본 클래스 안에 가상 소멸자를 선언하자는 규칙은 <em>다형성(Polymorphic)</em> 을 가진 기본 클래스, 즉 기본 클래스 인터페이스를 통해 파생 클래스 타입의 조작을 허용하도록 설계된 기본 클래스에만 적용 된다.</p><p>모든 기본 클래스가 다형성을 가지게 되도록 설계되는 것은 아니다. 앞에서 언급된 string 타입과 , STL 컨테이너 타입과 같이 기본 클래스는 커녕 다형성의 흔적조차 볼 수 없는 클래스도 존재한다. 한편, 기본 클래스로는 쓰일수 있지만 다형성은 가지지 않도록 설계된 클래스도 존재하는데, 이런 클래스는 기본 클래스의 인터페이스를 통한 파생 클래스 객체의 조작이 허용되지 않는다. 이들에게서 가상 소멸자를 볼 수 없는 것은 이러한 이유 때문이다.</p><h2 id="요점"><span class="mr-2">요점</span><a href="#요점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><blockquote><p>다형성을 가진 기본 클래스에는 반드시 가상 소멸자를 선언해야 한다. 즉, 어떤 클래스가 가상 함수를 하나라도 가지고 있다면, 이 클래스의 소멸자도 가상 소멸자 이여야 한다.</p></blockquote><blockquote><p>기본 클래스로 설계되지 않았거나 다형성을 가지도록 설계되지 않은 클래스에는 가상 소멸자를 선언하지 말아야 한다.</p></blockquote><hr /><hr /><p><em>참고</em>. Effective C++ 3/E - Scott Meyers</p><hr /></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/c/'>C++</a>, <a href='/categories/effective-c/'>Effective C++</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/c/" class="post-tag no-text-decoration" >C++</a> <a href="/tags/effective-c/" class="post-tag no-text-decoration" >Effective C++</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Effective C++ - Item.7 - My Technical Diary&amp;url=https://issuh.github.io/posts/effective_c++_item_7/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Effective C++ - Item.7 - My Technical Diary&amp;u=https://issuh.github.io/posts/effective_c++_item_7/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://issuh.github.io/posts/effective_c++_item_7/&amp;text=Effective C++ - Item.7 - My Technical Diary" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/educative-distributed-system-10/">Distributed Systems - Coordination Patterns</a><li><a href="/posts/educative-distributed-system-04/">Distributed Systems - CAP</a><li><a href="/posts/educative-distributed-system-03/">Distributed Systems - Replication</a><li><a href="/posts/my_project_simpledb/">simpleDB - 메모리</a><li><a href="/posts/ps-hackerrank-01/">HackerRandk - Fraudulent Activity Notifications</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ps/">PS</a> <a class="post-tag" href="/tags/leetcode/">Leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/spring-framework/">Spring Framework</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/hash/">Hash</a> <a class="post-tag" href="/tags/database/">DataBase</a> <a class="post-tag" href="/tags/tree/">Tree</a> <a class="post-tag" href="/tags/array/">Array</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/effective_c++_item_1/"><div class="card-body"> <em class="timeago small" data-ts="1586535060" > 2020-04-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Effective C++ - Item.1</h3><div class="text-muted small"><p> C++를 언어들의 연합체로 바라보는 안목은 필수 오늘날의 C++는 다중패러다임 프로그래밍 언어(Multiparadigm Programming Language) 라고 불리운다. 절차적(Procedural) 프로그래밍 을 기본으로 하여 객체 지향(Object Oriented) , 함수식(Functional) , 일반화(Generic) 프로그래밍을 포함...</p></div></div></a></div><div class="card"> <a href="/posts/effective_c++_item_2/"><div class="card-body"> <em class="timeago small" data-ts="1586538180" > 2020-04-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Effective C++ - Item.2</h3><div class="text-muted small"><p> #define을 쓰려거든 const, enum, inline을 떠올리자 가급적 전처리기(Preprocessor) 보다 컴파일러를 가까이 하자   #define의 경우 전처리기에서 이미 치환시켜 값을 대입하기 때문에 컴파일러가 쓰는 기호 테이블에 값이 들어가지 않는다. 따라서 숫자 상수로 대체된 코드에서 컴파일 에러가 발생한다면 이를 디버깅하...</p></div></div></a></div><div class="card"> <a href="/posts/effective_c++_item_3/"><div class="card-body"> <em class="timeago small" data-ts="1588245780" > 2020-04-30 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Effective C++ - Item.3</h3><div class="text-muted small"><p> 낌새만 보이면 const를 들이대 보자! 내용 Const 키워드 const의 가장 눈에 띄는 특징이라면, const가 붙은 객체는 외부 변경을 불가능 하게 한다라는 ‘의미적인 제약’을 소스코드 수준에서 행해진다는 점과 컴파일러가 이 제약을 단단히 지켜준다는 점이다. const 키워드는 클래스 바깥에서 전역 혹은 네임스페이스 유효범위의 상수를...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/ps-leetcode-383/" class="btn btn-outline-primary" prompt="Older"><p>LeetCode - 383. Ransom Note</p></a> <a href="/posts/effective_c++_item_8/" class="btn btn-outline-primary" prompt="Newer"><p>Effective C++ - Item.8</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/ISSuh">ISSuh</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ps/">PS</a> <a class="post-tag" href="/tags/leetcode/">Leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/spring-framework/">Spring Framework</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/hash/">Hash</a> <a class="post-tag" href="/tags/database/">DataBase</a> <a class="post-tag" href="/tags/tree/">Tree</a> <a class="post-tag" href="/tags/array/">Array</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-157715138-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-157715138-1'); }); </script>

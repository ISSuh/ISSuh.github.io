<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Java - Exception" /><meta property="og:locale" content="en" /><meta name="description" content="예외 계층 Object 예외도 객체 모든 객체의 최상위 부모는 Object이므로 예외의 최상위 부모도 Object Throwable 최상위의 예외 Error 메모리 부족이나 심각한 시스템 오류와 같이 어플리케이션에서 복구 불가능한 시스템 예외 어플리케이션 개발자는 이 예외를 잡으면 안됨 상위 예외를 catch로 잡으면 그 하위 예외까지 잡히기 떄문에 Throwable 예외도 잡으면 안됨 Throwable 예외를 catch로 잡으면 하위인 Error 예외도 함꼐 잡히기 때문 언체크 예외 Exception 체크 예외 어플리케이션 로직에서 사용할 수 있는 실질적인 최상위 예외 Exception와 그 하위 예외는 모두 컴파일러가 체크하는 체크 예외임. 단 RuntimeException만은 해당이 안됨 RuntimeException 언체크 예외. 런타임 예외 컴파칠러가 체크하지 않는 언체크 예외 RuntimeException과 그 자식 예외는 모두 언체크 예외 임 RuntimeException의 이름을 따라서 RuntimeException과 그 하위 언체크 예외를 런타임 에러라고도 함" /><meta property="og:description" content="예외 계층 Object 예외도 객체 모든 객체의 최상위 부모는 Object이므로 예외의 최상위 부모도 Object Throwable 최상위의 예외 Error 메모리 부족이나 심각한 시스템 오류와 같이 어플리케이션에서 복구 불가능한 시스템 예외 어플리케이션 개발자는 이 예외를 잡으면 안됨 상위 예외를 catch로 잡으면 그 하위 예외까지 잡히기 떄문에 Throwable 예외도 잡으면 안됨 Throwable 예외를 catch로 잡으면 하위인 Error 예외도 함꼐 잡히기 때문 언체크 예외 Exception 체크 예외 어플리케이션 로직에서 사용할 수 있는 실질적인 최상위 예외 Exception와 그 하위 예외는 모두 컴파일러가 체크하는 체크 예외임. 단 RuntimeException만은 해당이 안됨 RuntimeException 언체크 예외. 런타임 예외 컴파칠러가 체크하지 않는 언체크 예외 RuntimeException과 그 자식 예외는 모두 언체크 예외 임 RuntimeException의 이름을 따라서 RuntimeException과 그 하위 언체크 예외를 런타임 에러라고도 함" /><link rel="canonical" href="https://issuh.github.io/posts/java-01/" /><meta property="og:url" content="https://issuh.github.io/posts/java-01/" /><meta property="og:site_name" content="My Technical Diary" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-10-14T13:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Java - Exception" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-11-02T10:48:17+09:00","datePublished":"2023-10-14T13:00:00+09:00","description":"예외 계층 Object 예외도 객체 모든 객체의 최상위 부모는 Object이므로 예외의 최상위 부모도 Object Throwable 최상위의 예외 Error 메모리 부족이나 심각한 시스템 오류와 같이 어플리케이션에서 복구 불가능한 시스템 예외 어플리케이션 개발자는 이 예외를 잡으면 안됨 상위 예외를 catch로 잡으면 그 하위 예외까지 잡히기 떄문에 Throwable 예외도 잡으면 안됨 Throwable 예외를 catch로 잡으면 하위인 Error 예외도 함꼐 잡히기 때문 언체크 예외 Exception 체크 예외 어플리케이션 로직에서 사용할 수 있는 실질적인 최상위 예외 Exception와 그 하위 예외는 모두 컴파일러가 체크하는 체크 예외임. 단 RuntimeException만은 해당이 안됨 RuntimeException 언체크 예외. 런타임 예외 컴파칠러가 체크하지 않는 언체크 예외 RuntimeException과 그 자식 예외는 모두 언체크 예외 임 RuntimeException의 이름을 따라서 RuntimeException과 그 하위 언체크 예외를 런타임 에러라고도 함","headline":"Java - Exception","mainEntityOfPage":{"@type":"WebPage","@id":"https://issuh.github.io/posts/java-01/"},"url":"https://issuh.github.io/posts/java-01/"}</script><title>Java - Exception | My Technical Diary</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="My Technical Diary"><meta name="application-name" content="My Technical Diary"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/profile.jpeg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">My Technical Diary</a></div><div class="site-subtitle font-italic">ISSuh's tech blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/aboutme/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ISSuh" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['yoyus5','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Java - Exception</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Java - Exception</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/ISSuh">ISSuh</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1697256000" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2023-10-14 </em> </span> <span> Updated <em class="timeago" data-ts="1698889697" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2023-11-02 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2355 words"> <em>13 min</em> read</span></div></div></div><div class="post-content"><h3 id="예외-계층"><span class="mr-2">예외 계층</span><a href="#예외-계층" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><img data-src="/assets/posts/img/java/java_01_01.png" alt="Alt text" data-proofer-ignore></p><ul><li>Object<ul><li>예외도 객체<li>모든 객체의 최상위 부모는 Object이므로 예외의 최상위 부모도 Object</ul><li>Throwable<ul><li>최상위의 예외</ul><li>Error<ul><li>메모리 부족이나 심각한 시스템 오류와 같이 어플리케이션에서 복구 불가능한 시스템 예외<li>어플리케이션 개발자는 이 예외를 잡으면 안됨<ul><li>상위 예외를 catch로 잡으면 그 하위 예외까지 잡히기 떄문에 Throwable 예외도 잡으면 안됨<ul><li>Throwable 예외를 catch로 잡으면 하위인 Error 예외도 함꼐 잡히기 때문</ul></ul><li>언체크 예외</ul><li>Exception<ul><li>체크 예외<li>어플리케이션 로직에서 사용할 수 있는 실질적인 최상위 예외<li>Exception와 그 하위 예외는 모두 컴파일러가 체크하는 체크 예외임. 단 RuntimeException만은 해당이 안됨</ul><li>RuntimeException<ul><li>언체크 예외. 런타임 예외<li>컴파칠러가 체크하지 않는 언체크 예외<li>RuntimeException과 그 자식 예외는 모두 언체크 예외 임<li>RuntimeException의 이름을 따라서 RuntimeException과 그 하위 언체크 예외를 런타임 에러라고도 함</ul></ul><h3 id="예외의-기본-규칙"><span class="mr-2">예외의 기본 규칙</span><a href="#예외의-기본-규칙" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>예외는 기본적으로 잡아서 처리하거나, 처리할 수 없다면 밖으로 던져야 함</p><ul><li>예외는 잡아서 처리하거나 던져야 함<li>예외를 잡거나 던질떄 지정한 예외 뿐만 아니라 그 예외의 자식들도 함꼐 처리됨<ul><li>예를 들어 Exception을 catch로 잡으면 그 하위 예외들도 모두 잡을 수 있음<li>예를 들어 Exception을 throws로 던지면 그 하위 예외들도 모두 던질 수 있음</ul></ul><p><strong>예외 처리</strong> <img data-src="/assets/posts/img/java/java_01_02.png" alt="Alt text" data-proofer-ignore></p><ul><li>5번에서 예외를 처리하면 이후에는 어플리케이션 로직이 정상흐름으로 동작</ul><p><strong>예외 던짐</strong> <img data-src="/assets/posts/img/java/java_01_03.png" alt="Alt text" data-proofer-ignore></p><ul><li>여예를 처리하지 못하면 호출한 곳으로 예외를 계속 던짐</ul><h4 id="체크-예외"><span class="mr-2">체크 예외</span><a href="#체크-예외" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>Exception과 그 하위 예외는 모두 컴파일러가 체크하는 체크 예외. 단 RuntimeException만은 제외됨<li>체크 예외는 잡아서 처리하거나 또는 밖으로 던지도록 선언해야 함. 그렇지 않으면 컴파일 오휴 발생</ul><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kd">class</span> <span class="nc">MyCheckedException</span> <span class="kd">extends</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">MyCheckedException</span><span class="o">(</span><span class="nc">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c1">// 체크 예외를 잡아서 처리하는 코드</span>
<span class="k">try</span> <span class="o">{</span>
    <span class="n">repository</span><span class="o">.</span><span class="na">call</span><span class="o">();</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">MyCheckedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">//예외 처리 로직</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c1">// 체크 예외를 잡아서 처리하는 코드</span>
<span class="k">try</span> <span class="o">{</span>
    <span class="n">repository</span><span class="o">.</span><span class="na">call</span><span class="o">();</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">//예외 처리 로직</span>
<span class="o">}</span>
</pre></table></code></div></div><ul><li>catch에 예외를 지정하면 해당 예외와 그 하위 타입 예외를 모두 잡음<ul><li>MyCheckedException의 상위 타입인 Exception을 적더라도 MyCheckedException을 잡을 수 있음</ul></ul><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c1">// 체크 예외를 밖으로 던지는 코드</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">callThrow</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">MyCheckedException</span> <span class="o">{</span>
    <span class="n">repository</span><span class="o">.</span><span class="na">call</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kt">void</span> <span class="nf">callThrow</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="n">repository</span><span class="o">.</span><span class="na">call</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><ul><li>체크 예외를 처리할 수 없는 경우에는 “Method() throws 예외”를 사용하여 밖으로 던질 예외를 필수적으로 지정해야 함<li>throw를 지정하지 않으면 첨파일 오류 발생<li>체크 예외의 경우 예외를 잡아서 처리하거나 또는 throws를 지정하여 예외를 밖으로 던진다는 선언을 필수로 해주어야 함<li>throws에 지전한 타입과 그 하위 타입 예외를 밖으로 던짐<ul><li>throws에 MyCheckedException의 상위 타입인 Exception을 적어주어도 MyCheckedException을 던짐</ul></ul><h4 id="언처크-예외"><span class="mr-2">언처크 예외</span><a href="#언처크-예외" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>RuntimeException과 그 하위 예외는 언체크 예외로 분류<li>언체크 예외는 컴파일러가 예외를 체크하지 않는다는 뜻<li>언체크 예외는 체크 예외와 기본적으로 동일하지만 언체크 예외는 예외를 던지는 throws를 선언하지 않고 생략이 가능함. 이 경우 자동으로 예외를 던짐</ul><h4 id="체크-예외-vs-언체크-예외"><span class="mr-2">체크 예외 vs 언체크 예외</span><a href="#체크-예외-vs-언체크-예외" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>체크 예외 : 예외를 잡아서 처리하지 않으면 항상 throws에 던지는 예외 선언을 해야함<ul><li>해당 예외를 잡아서 반드시 처리해야하는 비지니스 로직상의 문제에서 던지는 예외에만 사용<ul><li>예를 들면 계좌 이체 실패, 결제시 포인틑 부족, 로그인 ID, PW 불필치 등</ul></ul><li>언체크 예외 : 예외를 잡아서 처리하지 않아도 throws를 생략할 수 있음<ul><li>기본적으로 언체크 예외를 사용하는 것이 좋음</ul></ul><p>사실상 체크 예외와 언체크 예외의 차이는 예외를 처리할 수 없을 때 예외를 밖으로 던지는 부분에 있음. throws 부분을 필수로 선언해야 하는가 생략할 수 있는가의 차이임.</p><h3 id="체크-예외의-문제점"><span class="mr-2">체크 예외의 문제점</span><a href="#체크-예외의-문제점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><img data-src="/assets/posts/img/java/java_01_04.png" alt="Alt text" data-proofer-ignore></p><ul><li>서비스<ul><li>체크 예외를 처리하지 못해서 밖으로 던지기 위해 logic() throws SQLException, ConnectException 를 선언</ul><li>컨트롤러<ul><li>체크 예외를 처리하지 못해서 밖으로 던지기 위해 request() throws SQLException, ConnectException 를 선언</ul></ul><p>위 그림으로 볼떄 크게 두가지 문제가 있을 수 있음</p><ul><li>복구 불가능한 예외<li>의존 관계에 대한 문제</ul><h4 id="복구-불가능한-예외"><span class="mr-2">복구 불가능한 예외</span><a href="#복구-불가능한-예외" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>대부준의 예외는 복구가 불가능 함. SQLException을 예로 들면 데이터베이스에 무언가 문제가 있어서 발생하는 예외인데, SQL 문법에 문제가 있을 수 있고, 데이터베이스 자체에 문제가 발생했을 수도 있으며 데이터베이스가 아예 다운되었을 수도 있음. 이러한 문제는 대체로 어플리케이션에선 복구가 불가능 함. 따라서 대부분의 서비스와 컨트롤러에서도 이 문제를 해결 할 수 없으며 해결하지 못하는 예외를 공통 예외 처리 로직 까지 예외를 던져야 함</p><h4 id="의존-관계에-대한-문제"><span class="mr-2">의존 관계에 대한 문제</span><a href="#의존-관계에-대한-문제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>체크 예외이기 때문에 서비스나 컨트롤러 입장에서는 자신이 처리하지 못하더라도 throws를 통해 예외를 던져야 함</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Controller</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">request</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">SQLException</span><span class="o">,</span> <span class="nc">ConnectException</span> <span class="o">{</span>
        <span class="n">service</span><span class="o">.</span><span class="na">logic</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kd">class</span> <span class="nc">Service</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">logic</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">SQLException</span><span class="o">,</span> <span class="nc">ConnectException</span> <span class="o">{</span>
        <span class="n">repository</span><span class="o">.</span><span class="na">call</span><span class="o">();</span>
        <span class="n">networkClient</span><span class="o">.</span><span class="na">call</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>위와 같은 결루, 서비스나 컨트롤러는 단순히 예외를 던지기 위해 SQLException를 의존하게 되는 문제가 발생 함. 추후 리포지토리를 JDBC 기술이 아닌 다른 기술로 변경해야 한다면 SQLException에 의존하던 모든 서비스, 컨트롤러의 코드를 수정해야 함. 결국 자신이 처리하지도 못하는 예외로 인하여 의존관계가 성립되어 OCP, DI에 위배되는 코드가 되는 문제가 있음</p><h3 id="런타임-예외의-활용"><span class="mr-2">런타임 예외의 활용</span><a href="#런타임-예외의-활용" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><img data-src="/assets/posts/img/java/java_01_05.png" alt="Alt text" data-proofer-ignore></p><ul><li>SQLException을 런타임 예외인 RuntimeSQLException으로 변환<li>ConnectionExceoption 대신 RuntimeConnectionExceoption으로 변환<li>런타임 예이이기 때문에 서비스, 컨트롤러는 해당 예외를 처리할 수 없다면 별도의 선언 없이 그냥 두면 됨</ul><h4 id="런타임-예외---복구-불가능한-예외"><span class="mr-2">런타임 예외 - 복구 불가능한 예외</span><a href="#런타임-예외---복구-불가능한-예외" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>시스템에서 발생하는 예외는 대부분 복구 불가능한 예외. 런타임 예외를 사용하면 서비스나 컨트롤러가 이러한 복구 불가능한 예외를 신경쓰지 않아도 됨. 물론 이러한 복구 불가능한 예외는 일관성 있게 공통으로 처리해야 함</p><h4 id="런타임-예외---의존-관계에-대한-문제"><span class="mr-2">런타임 예외 - 의존 관계에 대한 문제</span><a href="#런타임-예외---의존-관계에-대한-문제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>런타임 예외는 해당 객체가 처리할 수 없는 예외는 무시하면 됨. 그러므로 체크 예외 처럼 throws를 갈제로 사용하지 않아도 되기 때문에 예외를 강제로 의존하지 않음</p><p><img data-src="/assets/posts/img/java/java_01_06.png" alt="Alt text" data-proofer-ignore></p><ul><li>서비스와 컨트롤러에선 의존관계가 발생하지 않기 때문에 기술 변경시 코드를 변경하지 않아도 됨<li>공통으로 예외를 처리하는 부분의 코드만 변경하면 되기 때문에 변경의 영향 범위를 최소화 할 수 있음</ul><h3 id="예외-포함"><span class="mr-2">예외 포함</span><a href="#예외-포함" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>예외를 전환할떄는 발생한 예외의 원일 파악을 위해 반드시 기존 예외가 포홈되어야 함</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kt">void</span> <span class="nf">call</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
        <span class="n">runSQL</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeSQLException</span><span class="o">(</span><span class="n">e</span><span class="o">);</span> <span class="c1">//기존 예외(e) 포함</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre>13:10:45.626 [Test worker] INFO hello.jdbc.exception.basic.UncheckedAppTest - 
ex
hello.jdbc.exception.basic.UncheckedAppTest$RuntimeSQLException: 
java.sql.SQLException: ex
at 
hello.jdbc.exception.basic.UncheckedAppTest$Repository.call(UncheckedAppTest.ja
va:61)
at 
hello.jdbc.exception.basic.UncheckedAppTest$Service.logic(UncheckedAppTest.java
:45)
at 
hello.jdbc.exception.basic.UncheckedAppTest$Controller.request(UncheckedAppTest
.java:35)
at 
hello.jdbc.exception.basic.UncheckedAppTest.printEx(UncheckedAppTest.java:24)
Caused by: java.sql.SQLException: ex
at 
hello.jdbc.exception.basic.UncheckedAppTest$Repository.runSQL(UncheckedAppTest.
java:66)
at 
hello.jdbc.exception.basic.UncheckedAppTest$Repository.call(UncheckedAppTest.ja
va:59)
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kt">void</span> <span class="nf">call</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
        <span class="n">runSQL</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeSQLException</span><span class="o">();</span> <span class="c1">//기존 예외(e) 미포함</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>[Test worker] INFO hello.jdbc.exception.basic.UncheckedAppTest - ex
hello.jdbc.exception.basic.UncheckedAppTest$RuntimeSQLException: null
at 
hello.jdbc.exception.basic.UncheckedAppTest$Repository.call(UncheckedAppTest.ja
va:61)
at 
hello.jdbc.exception.basic.UncheckedAppTest$Service.logic(UncheckedAppTest.java
:45)
</pre></table></code></div></div><ul><li>기존 예외를 포함하지 않아서 기존에 발생한 SQLException과 스텍 트레이스를 확인 할 수 없고 변환한 RuntimeSQLException부터 예외를 확인할 수 있음</ul><p><strong>예외를 전환할 때는 반드시 기존 예외를 포함하도록 해야 함</strong></p><hr /><p>참고</p><ul><li>스프링 DB - 데이터 접근 핵심 원리(김영한)</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/java/'>Java</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/java/" class="post-tag no-text-decoration" >Java</a> <a href="/tags/exception/" class="post-tag no-text-decoration" >Exception</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Java - Exception - My Technical Diary&amp;url=https://issuh.github.io/posts/java-01/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Java - Exception - My Technical Diary&amp;u=https://issuh.github.io/posts/java-01/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://issuh.github.io/posts/java-01/&amp;text=Java - Exception - My Technical Diary" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/educative-distributed-system-10/">Distributed Systems - Coordination Patterns</a><li><a href="/posts/educative-distributed-system-04/">Distributed Systems - CAP</a><li><a href="/posts/educative-distributed-system-03/">Distributed Systems - Replication</a><li><a href="/posts/my_project_simpledb/">simpleDB - 메모리</a><li><a href="/posts/ps-hackerrank-01/">HackerRandk - Fraudulent Activity Notifications</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ps/">PS</a> <a class="post-tag" href="/tags/leetcode/">Leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/spring-framework/">Spring Framework</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/hash/">Hash</a> <a class="post-tag" href="/tags/database/">DataBase</a> <a class="post-tag" href="/tags/tree/">Tree</a> <a class="post-tag" href="/tags/array/">Array</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/java-02/"><div class="card-body"> <em class="timeago small" data-ts="1698908400" > 2023-11-02 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java - ThreadLocal</h3><div class="text-muted small"><p> ThreadLocal 쓰레드 로컬은 해당 쓰레드만 접근할 수 있는 특별한 저장소를 말함. 간단한 예로 들면 물건 보관 창구와 비슷함. 여러 사함이 같은 물건 보관 창구를 사용하더라도 창구 직원은 사용자를 인식하여 사용자별로 확실히 물건을 구분해 줌. 즉, 사용자A, 사용자B 모두 창구 직원을 통하여 물건을 보관하고 꺼내지만 창구 직원이 사용자에 따라...</p></div></div></a></div><div class="card"> <a href="/posts/java-03/"><div class="card-body"> <em class="timeago small" data-ts="1698976800" > 2023-11-03 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java - Reflection</h3><div class="text-muted small"><p> Reflection 자바가 기본으로 제공하는 JDK 동적 프록시 기술이나 CGIB과 같은 프록시 생성 오픈소스 기술을 활용하면, 프록시 객체를 동적으로 만들어 낼 수 있다. 이러한 JDK 동적 프록시 기술이나 CGIB을 이해하기 위해선 리플렉션이라는 기술이 필수이다. 리프렉션은 클래스나 메소드의 메타정보를 동적으로 획득하고, 코드를 동적으로 호출할...</p></div></div></a></div><div class="card"> <a href="/posts/java-04/"><div class="card-body"> <em class="timeago small" data-ts="1698979800" > 2023-11-03 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java - JDK 동적 프록시</h3><div class="text-muted small"><p> JDK 동적 프록시 동적 프록시 기술을 사용하면 개발자가 직접 프록시 클래스를 만들지 않고 동적으로 프록시 객체를 런타임에 생성 할 수 있다. 또한 동적 프록시에 원하는 실행 로직을 지정하는것도 가능하다. JDK 동적 프록시 구현 JDK 동적 프록시는 인터페이스를 기반으로 프록시를 동적으로 만들기 떄문에 인터페이스가 필수 이다. 1 2 3 pu...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/chromium_network_service/" class="btn btn-outline-primary" prompt="Older"><p>Chromium - Netowk</p></a> <a href="/posts/spring-db-05/" class="btn btn-outline-primary" prompt="Newer"><p>Spring DB - 예외처리, 반복</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/ISSuh">ISSuh</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ps/">PS</a> <a class="post-tag" href="/tags/leetcode/">Leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/spring-framework/">Spring Framework</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/hash/">Hash</a> <a class="post-tag" href="/tags/database/">DataBase</a> <a class="post-tag" href="/tags/tree/">Tree</a> <a class="post-tag" href="/tags/array/">Array</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-157715138-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-157715138-1'); }); </script>

<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Design Patterns - Mediator" /><meta property="og:locale" content="en" /><meta name="description" content="Behavioral Patterns - Mediator" /><meta property="og:description" content="Behavioral Patterns - Mediator" /><link rel="canonical" href="https://issuh.github.io/posts/design_patterns-mediator/" /><meta property="og:url" content="https://issuh.github.io/posts/design_patterns-mediator/" /><meta property="og:site_name" content="My Technical Diary" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-04-24T07:08:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Design Patterns - Mediator" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-03-05T12:33:07+09:00","datePublished":"2020-04-24T07:08:00+09:00","description":"Behavioral Patterns - Mediator","headline":"Design Patterns - Mediator","mainEntityOfPage":{"@type":"WebPage","@id":"https://issuh.github.io/posts/design_patterns-mediator/"},"url":"https://issuh.github.io/posts/design_patterns-mediator/"}</script><title>Design Patterns - Mediator | My Technical Diary</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="My Technical Diary"><meta name="application-name" content="My Technical Diary"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/profile.jpeg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">My Technical Diary</a></div><div class="site-subtitle font-italic">ISSuh's tech blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/aboutme/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ISSuh" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['yoyus5','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Design Patterns - Mediator</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Design Patterns - Mediator</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/ISSuh">ISSuh</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1587679680" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2020-04-24 </em> </span> <span> Updated <em class="timeago" data-ts="1646451187" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-03-05 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1751 words"> <em>9 min</em> read</span></div></div></div><div class="post-content"><h1 id="behavioral-patterns---mediator">Behavioral Patterns - Mediator</h1><h2 id="intent"><span class="mr-2">Intent</span><a href="#intent" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><p>한 집합에 속해있는 객체의 상호작용을 캡슐화하는 객체를 정의한다.</p><p>객체들이 서로를 참조하지 않도록 하여 객체 사이의 소결합(Loose Coupling)을 촉진시키며, 개발자가 객체의 상호작용을 독립적으로 다양화 시킬수 있게 만든다.</p><h2 id="utility"><span class="mr-2">Utility</span><a href="#utility" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><ul><li>여러 객체가 잘 정의된 형태이기는 하지만 복잡한 상호작용을 기질 때<li>객체간의 의존성이 구조화되지 않으며, 잘 이해하기 어려울 떄<li>한 객체가 다른 객체를 너무 많이 참조하고, 너무 많은 의사소통을 수행해서 그 객체를 재사용하기 힘들 때<li>여러 클래스에 분산된 행동들이 상속 없이 상황에 맞게 수정되어야 할 떄</ul><h2 id="structure"><span class="mr-2">Structure</span><a href="#structure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><h3 id="basic-structure"><span class="mr-2">Basic Structure</span><a href="#basic-structure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><img data-src="https://www.cs.unc.edu/~stotts/GOF/hires/Pictures/mediator.gif" alt="example" data-proofer-ignore></p><p><img data-src="https://www.cs.unc.edu/~stotts/GOF/hires/Pictures/media030.gif" alt="example" data-proofer-ignore></p><h3 id="structure-example"><span class="mr-2">Structure Example</span><a href="#structure-example" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><img data-src="https://www.cs.unc.edu/~stotts/GOF/hires/Pictures/fontc047.gif" alt="example" data-proofer-ignore></p><p><img data-src="https://www.cs.unc.edu/~stotts/GOF/hires/Pictures/media033.gif" alt="example" data-proofer-ignore></p><p><img data-src="https://www.cs.unc.edu/~stotts/GOF/hires/Pictures/media031.gif" alt="example" data-proofer-ignore></p><p><img data-src="https://www.cs.unc.edu/~stotts/GOF/hires/Pictures/media034.gif" alt="example" data-proofer-ignore></p><h3 id="elements"><span class="mr-2">Elements</span><a href="#elements" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>Mediator</strong><ul><li><em>DialogDirector</em>에 해당<li><em>Colleague</em> 객체와 교류하는 데 필요한 인터페이스를 정의</ul><li><strong>ConcreteMediator</strong><ul><li><em>FontDialogDirector</em>에 해당<li><em>Colleague</em> 객체와 조화를 이워서 협력 행동을 구현<li>자신이 맡을 <em>Colleague</em>를 파악하고 관리</ul><li><strong>Conlleague 클래스들</strong><ul><li><em>ListBox</em>, <em>EntryField</em>에 해당<li>다른 객체와 통신이 필요하면 그 <em>Mediator</em>를 통해 통신되도록 하는 동료 객체를 나타내는 클래스<li>자신의 <em>Mediator</em> 객체가 무엇인지 파악</ul></ul><p><em>Colleague</em> 는 <em>Mediator</em>에서 요청을 송수신한다. <em>Mediator</em>는 필요한 <em>Colleague</em>사이에 요청을 전달할 의무가 있다.</p><h2 id="feature"><span class="mr-2">Feature</span><a href="#feature" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><h4 id="서브클레싱을-제한한다"><span class="mr-2">서브클레싱을 제한한다</span><a href="#서브클레싱을-제한한다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><em>Mediator</em>는 다른 객체 사이에 분산된 객체의 행동들을 하나의 객체로 국한한다. 이 행동을 변경하고자 할때, <em>Mediator</em> 클래스를 상속하는 서브클래스만 만들면 된다. <em>Colleague</em> 클래스는 여전히 재사용 가능하다.</p><h4 id="colleauge-객체-사이의-종속성을-줄인다"><span class="mr-2"><em>Colleauge</em> 객체 사이의 종속성을 줄인다</span><a href="#colleauge-객체-사이의-종속성을-줄인다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><em>Mediator</em>는 행동에 참여하는 객체간의 소결랍을 증진시킨다. 이로써 <em>Mediator</em> 클래스와 <em>Colleague</em> 클래스 각각을 독립적으로 다양화 시킬수 있고 재사용할 수 있다.</p><h4 id="객체-프로토콜을-단순화-한다"><span class="mr-2">객체 프로토콜을 단순화 한다</span><a href="#객체-프로토콜을-단순화-한다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><em>Mediator</em>는 다 대 다의 관계를 일 대 다의 관계로 축소시킨다.</p><h4 id="객체-간의-협력-방법을-추상화-한다"><span class="mr-2">객체 간의 협력 방법을 추상화 한다</span><a href="#객체-간의-협력-방법을-추상화-한다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>객체 사이의 중재를 독립적인 개념으로 만들고 이것을 캡슐화함으로써, 사용자는 각 객체의 행동과 상관없이 객체간 연결방법에만 집중할 수 있다. 결과적으로 시스템에서 객체가 어떻게 동작하는지를 좀더 명확하게 할 수 있다.</p><h4 id="통제가-집중화-된다"><span class="mr-2">통제가 집중화 된다</span><a href="#통제가-집중화-된다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><em>Mediator Pattern</em>은 상호작용의 복잡한 모든 것들이 자신 내부에서만 오가게 한다.</p><p><em>Mediator</em> 객체는 동료 객체 간의 상호작용에 관련된 프로토콜을 모두 캡슐화 하기 때문에 어느 동료 객체 보다도 훨씬 복잡해질 수 있다. 이 때문에 <em>Mediator</em> 클래스 자체의 유지보수가 어려워 질 수 있다.</p><h2 id="implementation"><span class="mr-2">Implementation</span><a href="#implementation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><h3 id="considerations-point-in-implementaion"><span class="mr-2">Considerations point in implementaion</span><a href="#considerations-point-in-implementaion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><h4 id="추상-클래스인-mediator-생략"><span class="mr-2">추상 클래스인 <em>Mediator</em> 생략</span><a href="#추상-클래스인-mediator-생략" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>만약 관련 객체들이 오직 하나의 <em>Mediator</em> 클래스와 동작한다면 <em>Mediator</em>를 추상 클래스로 정의할 필요가없다.</p><p>추상 클래스의 목적은 앞으로 또 다른 상호작용을 정의할 새로운 <em>Mediator</em> 서브클래스를 만들 때를 대비하는 것이다.</p><h4 id="colleague-객체---mediator-객체-간의-의사소통"><span class="mr-2"><em>Colleague</em> 객체 - <em>Mediator</em> 객체 간의 의사소통</span><a href="#colleague-객체---mediator-객체-간의-의사소통" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><em>Mediator</em> 클래스를 구현하는 한가지 방법은 <em>Observer Pattern</em>을 사용하는 것이다.</p><p><em>Colleague</em> 객체가 주관자(subject) 객체로 동작하여 상태의 변화가 일어날 때마다 <em>Mediator</em>에게 이를 통보하면, <em>Mediator</em>는 처리방법에 따라 다른 객체에게 변경을 통보하여 처리한다.</p><p>다른 방법으로는 <em>Mediator</em> 클래스 내 특화된 통지(Notification) 인터페이스를 정의하여 <em>Colleague</em> 객체들이 직접 통신하게 만드는 것이다.</p><h3 id="implement-example"><span class="mr-2">Implement Example</span><a href="#implement-example" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
</pre><td class="rouge-code"><pre><span class="cm">/**
* @brief Mediator - EventHandle
* @details Colleague 객체들 사이의 통신을 위한 인터페이스 정의
*/</span>
<span class="k">class</span> <span class="nc">EventHandle</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">EventHandle</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">eventHaneler</span><span class="p">(</span><span class="n">Widget</span><span class="o">*</span> <span class="n">widget</span><span class="p">,</span> <span class="n">EventCode</span> <span class="n">eventCode</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="kt">void</span> <span class="n">addWidget</span><span class="p">(</span><span class="n">Widget</span><span class="o">*</span> <span class="n">widget</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">m_widgetMap</span><span class="p">[</span><span class="n">widget</span><span class="o">-&gt;</span><span class="n">getWidgetID</span><span class="p">()]</span> <span class="o">=</span> <span class="n">widget</span><span class="p">;</span>
  <span class="p">}</span>

<span class="nl">protected:</span>
  <span class="n">EventHandle</span><span class="p">();</span>

<span class="nl">private:</span>
  <span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">Widget</span><span class="o">*&gt;</span> <span class="n">m_widgetMap</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**
* @brief ConcreteMediator - UIEventHandle
* @details Colleague 객체들 사이의 통신을 위한 인터페이스 구현
*/</span>
<span class="k">class</span> <span class="nc">UIEventHandle</span> <span class="p">{</span>
<span class="nl">public:</span>

  <span class="c1">// 상태 변화 발생시, 해당 변화에 대해 영향이 있는 다른 Colleague 객체에게 전달</span>
  <span class="kt">void</span> <span class="n">eventHaneler</span><span class="p">(</span><span class="n">Widget</span><span class="o">*</span> <span class="n">widget</span><span class="p">,</span> <span class="n">EventCode</span> <span class="n">eventCode</span><span class="p">))</span> <span class="k">override</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">(</span><span class="n">widget</span><span class="o">-&gt;</span><span class="n">getWidgetType</span><span class="p">()){</span>

    <span class="k">case</span> <span class="n">WIDGET_TYPE_BUTTON</span><span class="p">:</span> <span class="p">{</span>

      <span class="k">if</span><span class="p">(</span><span class="n">widget</span><span class="o">-&gt;</span><span class="n">getWidgetID</span><span class="p">()</span> <span class="o">==</span> <span class="s">"MyButton"</span><span class="p">){</span>
        <span class="n">m_widgetMap</span><span class="p">[</span><span class="s">"MyPictureView"</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">show</span><span class="p">();</span>

        <span class="p">...</span>

      <span class="p">}</span>
      <span class="p">...</span>

      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">case</span> <span class="n">WIDGET_TYPE_TEXTAREA</span><span class="p">:</span> <span class="p">{</span>

      <span class="p">...</span>

      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nl">default:</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/**
* @brief Colleague - Widget
* @details Colleague 객체들의 인터페이스 정의
*/</span>
<span class="k">class</span> <span class="nc">Widget</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="n">Widget</span><span class="p">(</span><span class="n">cosnt</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">id</span><span class="p">,</span> <span class="n">EventHandle</span><span class="o">*</span> <span class="n">handler</span><span class="p">)</span> <span class="o">:</span>
    <span class="n">m_widgetID</span><span class="p">(</span><span class="n">id</span><span class="p">),</span> <span class="n">m_eventHandle</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span> <span class="p">{}</span>

  <span class="k">virtual</span> <span class="o">~</span><span class="n">Widget</span><span class="p">();</span>

  <span class="kt">void</span> <span class="n">setWidgetType</span><span class="p">(</span><span class="n">WidgetType</span> <span class="n">type</span><span class="p">)</span>  <span class="p">{</span> <span class="n">m_type</span> <span class="o">=</span> <span class="n">type</span><span class="p">;</span> <span class="p">}</span>
  <span class="n">WidgetType</span> <span class="n">getWidgetType</span><span class="p">()</span> <span class="k">const</span>  <span class="p">{</span> <span class="k">return</span> <span class="n">m_type</span><span class="p">;</span> <span class="p">}</span>

  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">getWidgetID</span><span class="p">()</span> <span class="k">const</span>  <span class="p">{</span> <span class="k">return</span> <span class="n">m_widgetID</span><span class="p">;</span> <span class="p">}</span>

  <span class="p">...</span>

<span class="nl">private:</span>
  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">m_widgetID</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
  <span class="n">WidgetType</span> <span class="n">m_type</span><span class="p">;</span>
  <span class="n">EventHandle</span><span class="o">*</span> <span class="n">m_eventHandle</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>

  <span class="p">...</span>

<span class="p">};</span>


<span class="cm">/**
* @brief Colleague - Button
* @details Colleague 객체들의 인터페이스 구현
*/</span>
<span class="k">class</span> <span class="nc">Button</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Widget</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="n">Button</span><span class="p">(</span><span class="n">cosnt</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">id</span><span class="p">,</span> <span class="n">EventHandle</span><span class="o">*</span> <span class="n">handler</span><span class="p">)</span> <span class="o">:</span> <span class="n">Widget</span><span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">handler</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">setWidgetType</span><span class="p">(</span><span class="n">WIDGET_TYPE_BUTTON</span><span class="p">);</span>
    <span class="n">m_eventHandle</span><span class="o">-&gt;</span><span class="n">addWidget</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

    <span class="p">...</span>

  <span class="p">}</span>

<span class="c1">// 행동들 정의</span>
<span class="k">private</span> <span class="o">:</span>
  <span class="kt">void</span> <span class="n">onButtonClick</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">m_eventHandle</span><span class="o">-&gt;</span><span class="n">eventHaneler</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">EVENT_BUTTON_CLICK</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">onButtonPress</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">m_eventHandle</span><span class="o">-&gt;</span><span class="n">eventHaneler</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">EVENT_BUTTON_PRESS</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="p">...</span>

<span class="p">};</span>

<span class="cm">/**
* @brief Colleague - TextArea
* @details Colleague 객체들의 인터페이스 구현
*/</span>
<span class="k">class</span> <span class="nc">TextArea</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Widget</span> <span class="p">{</span>
  <span class="n">Button</span><span class="p">(</span><span class="n">cosnt</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">id</span><span class="p">,</span> <span class="n">EventHandle</span><span class="o">*</span> <span class="n">handler</span><span class="p">)</span> <span class="o">:</span> <span class="n">Widget</span><span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">handler</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">setWidgetType</span><span class="p">(</span><span class="n">WIDGET_TYPE_TEXTAREA</span><span class="p">);</span>
    <span class="n">m_eventHandle</span><span class="o">-&gt;</span><span class="n">addWidget</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

    <span class="p">...</span>

  <span class="p">}</span>

<span class="c1">// 행동들 정의</span>
<span class="nl">private:</span>
  <span class="kt">void</span> <span class="n">onWrite</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">m_eventHandle</span><span class="o">-&gt;</span><span class="n">eventHaneler</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">EVENT_TEXTAREA_WIRTE</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">onDelete</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">m_eventHandle</span><span class="o">-&gt;</span><span class="n">eventHaneler</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">EVENT_TEXTAREA_DELETE</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="p">...</span>

<span class="p">};</span>


<span class="p">...</span>

  <span class="c1">// Mediator 객체 생성</span>
  <span class="n">UIEventHandle</span><span class="o">*</span> <span class="n">handle</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">UIEventHandle</span><span class="p">();</span>

  <span class="c1">// Colleague 객체들 생성 및 Mediator 객체 등록</span>
  <span class="n">Button</span><span class="o">*</span> <span class="n">btn</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Button</span><span class="p">(</span><span class="s">"MyButton"</span><span class="p">,</span> <span class="n">handle</span><span class="p">);</span>
  <span class="n">TextArea</span><span class="o">*</span> <span class="n">textArea</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Button</span><span class="p">(</span><span class="s">"MyTextArea"</span><span class="p">,</span> <span class="n">handle</span><span class="p">);</span>

<span class="p">...</span>

</pre></table></code></div></div><h2 id="related-pattern"><span class="mr-2">Related Pattern</span><a href="#related-pattern" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><p><em>Facade Pattern</em>은 객체들로 구성된 서브시스템을 추상화하여 좀더 편한 인터페이스를 제공하려는 것으로 <em>Mediator Pattern</em>과는 다르다. <em>Facade</em> 객체는 서브시스템을 구성하는 객체로만 메세지가 전달되고, 반대로 서브시스템을 구성하는 객체가 <em>Facade</em> 객체에 메세지전달은 처리되지 않는다. 그러나 <em>Mediator</em> 객체는 양방향이다.</p><p>싱호 관련된 객체들은 <em>Observer Pattern</em>을 이용해서 <em>Mediator</em> 객체들과 교류한다.</p><hr /><hr /><p><em>참고</em>. Design Patterns : Elements of Reusable Object-Oriented Software - Erich Gamma</p><hr /></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/design-patterns/'>Design Patterns</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/design-patterns/" class="post-tag no-text-decoration" >Design Patterns</a> <a href="/tags/behavioral-patterns/" class="post-tag no-text-decoration" >Behavioral Patterns</a> <a href="/tags/mediator/" class="post-tag no-text-decoration" >Mediator</a> <a href="/tags/c/" class="post-tag no-text-decoration" >C++</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Design Patterns - Mediator - My Technical Diary&amp;url=https://issuh.github.io/posts/design_patterns-mediator/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Design Patterns - Mediator - My Technical Diary&amp;u=https://issuh.github.io/posts/design_patterns-mediator/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://issuh.github.io/posts/design_patterns-mediator/&amp;text=Design Patterns - Mediator - My Technical Diary" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/educative-distributed-system-10/">Distributed Systems - Coordination Patterns</a><li><a href="/posts/educative-distributed-system-04/">Distributed Systems - CAP</a><li><a href="/posts/educative-distributed-system-03/">Distributed Systems - Replication</a><li><a href="/posts/my_project_simpledb/">simpleDB - 메모리</a><li><a href="/posts/ps-hackerrank-01/">HackerRandk - Fraudulent Activity Notifications</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ps/">PS</a> <a class="post-tag" href="/tags/leetcode/">Leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/spring-framework/">Spring Framework</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/hash/">Hash</a> <a class="post-tag" href="/tags/database/">DataBase</a> <a class="post-tag" href="/tags/tree/">Tree</a> <a class="post-tag" href="/tags/array/">Array</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/design_patterns-chain_of_responsibility/"><div class="card-body"> <em class="timeago small" data-ts="1587403140" > 2020-04-21 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Design Patterns - Chain of Responsibility</h3><div class="text-muted small"><p> Behavioral Patterns - Chain of Responsibility Intent 메세지를 보내는 객체와 이를 받아 처리하는 객체들 간의 결합도를 없애기 위한 패턴이다. 하나의 요청에 대한 처리가 반드시 한 객체에서만 되지 않고, 여러 객체에게 그 처리 기회를 주려는 것이다. Utility 하나 이상의 객체가 요청을 ...</p></div></div></a></div><div class="card"> <a href="/posts/design_patterns-command/"><div class="card-body"> <em class="timeago small" data-ts="1587504420" > 2020-04-22 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Design Patterns - Command</h3><div class="text-muted small"><p> Behavioral Patterns - Command Intent 요청 자체를 캡슐화하는 것이다. 이를 통해 요청이 서로 다른 사용자를 매개변수로 만들고, 요청을 대기시키거나 로깅하여, 되돌릴 수 있는 연산을 지원한다. 작동(Action), 트랜젝션(Transaction) 이라고도 불린다. Utility 수행할 동작을 객체로 매개변수화...</p></div></div></a></div><div class="card"> <a href="/posts/design_patterns-iterator/"><div class="card-body"> <em class="timeago small" data-ts="1587591600" > 2020-04-23 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Design Patterns - Iterator</h3><div class="text-muted small"><p> Behavioral Patterns - Iterator Intent 내부 표현부를 노출하지 않고 어떤 집합 객체에 속한 원소들을 순차적으로 접근할수 있는 방법을 제공한다. 커서(Cursor)라고도 불린다. Utility 객체 내부 표현 방식으로 모르고도 집합 객체의 각 원소들에 접근하고 싶을 떄 집합 객체를 순회하는 다양한 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/design_patterns-iterator/" class="btn btn-outline-primary" prompt="Older"><p>Design Patterns - Iterator</p></a> <a href="/posts/design_patterns-memento/" class="btn btn-outline-primary" prompt="Newer"><p>Design Patterns - Memento</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/ISSuh">ISSuh</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ps/">PS</a> <a class="post-tag" href="/tags/leetcode/">Leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/spring-framework/">Spring Framework</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/hash/">Hash</a> <a class="post-tag" href="/tags/database/">DataBase</a> <a class="post-tag" href="/tags/tree/">Tree</a> <a class="post-tag" href="/tags/array/">Array</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-157715138-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-157715138-1'); }); </script>

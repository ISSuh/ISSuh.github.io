<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Effective C++ - Item.3" /><meta property="og:locale" content="en" /><meta name="description" content="낌새만 보이면 const를 들이대 보자!" /><meta property="og:description" content="낌새만 보이면 const를 들이대 보자!" /><link rel="canonical" href="https://issuh.github.io/posts/effective_c++_item_3/" /><meta property="og:url" content="https://issuh.github.io/posts/effective_c++_item_3/" /><meta property="og:site_name" content="My Technical Diary" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-04-30T20:23:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Effective C++ - Item.3" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-04-30T20:23:00+09:00","datePublished":"2020-04-30T20:23:00+09:00","description":"낌새만 보이면 const를 들이대 보자!","headline":"Effective C++ - Item.3","mainEntityOfPage":{"@type":"WebPage","@id":"https://issuh.github.io/posts/effective_c++_item_3/"},"url":"https://issuh.github.io/posts/effective_c++_item_3/"}</script><title>Effective C++ - Item.3 | My Technical Diary</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="My Technical Diary"><meta name="application-name" content="My Technical Diary"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/profile.jpeg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">My Technical Diary</a></div><div class="site-subtitle font-italic">ISSuh's tech blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/aboutme/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ISSuh" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['yoyus5','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Effective C++ - Item.3</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Effective C++ - Item.3</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/ISSuh">ISSuh</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1588245780" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2020-04-30 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3730 words"> <em>20 min</em> read</span></div></div></div><div class="post-content"><h1 id="낌새만-보이면-const를-들이대-보자">낌새만 보이면 <em>const</em>를 들이대 보자!</h1><hr /><h2 id="내용"><span class="mr-2">내용</span><a href="#내용" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="const-키워드"><span class="mr-2">Const 키워드</span><a href="#const-키워드" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><em>const</em>의 가장 눈에 띄는 특징이라면, <em>const</em>가 붙은 객체는 외부 변경을 <strong>불가능</strong> 하게 한다라는 ‘의미적인 제약’을 소스코드 수준에서 행해진다는 점과 컴파일러가 이 제약을 단단히 지켜준다는 점이다.</p><p><em>const</em> 키워드는 클래스 바깥에서 전역 혹은 네임스페이스 유효범위의 상수를 선언하는데도 쓸 수 있으며, 파일, 함수, 블록 유효범위에서 <em>static</em>으로 선언한 객체에도 <em>const</em>를 붙일 수 있다. 클래스 내부의 경우에는 정적 멤버 및 비정적 멤버 모두를 상수로 선언 할 수 있다. 뿐만 아니라 포인터 역시 포인터 자체를 상수로, 혹은 포인터가 가리키는 값을 상수로, 아니면 둘다 상수로 선언하는 것이 가능하다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kt">char</span> <span class="n">greeting</span><span class="p">[]</span> <span class="o">=</span> <span class="s">"Hellp"</span><span class="p">;</span>        <span class="c1">// 비상수 포인터</span>
<span class="kt">char</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="n">greeting</span><span class="p">;</span>               <span class="c1">// 비상수 데이터</span>

<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="n">greeting</span><span class="p">;</span>         <span class="c1">// 비상수 포인터,</span>
                                  <span class="c1">// 상수 데이터</span>

<span class="kt">char</span><span class="o">*</span> <span class="k">const</span> <span class="n">p</span> <span class="o">=</span> <span class="n">greeting</span><span class="p">;</span>         <span class="c1">// 상수 포인터,</span>
                                  <span class="c1">// 비상수 데이터</span>

<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="k">const</span> <span class="n">p</span> <span class="o">=</span> <span class="n">greeting</span><span class="p">;</span>   <span class="c1">// 상수 포인터,</span>
                                  <span class="c1">// 상수 데이터</span>
</pre></table></code></div></div><h3 id="stl-iterator의-const"><span class="mr-2">STL Iterator의 Const</span><a href="#stl-iterator의-const" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>STL의 반복자(Iterator)는 포인터를 본뜬 것이기 때문에, 기본적인 동작 원리가 T* 포인터와 매우 흡사하다. 어떤 반복자를 <em>const</em>로 선언하는 일은 포인터를 const T* 와 같이 상수로 선언하는 것과 같다. 반복자는 자신이 가리키는 대상이 아닌 것을 가리키는 경우가 허용되지 않지만, 반복자가 가리키는 대상 자체는 변경이 가능하다. 만약 변경이 불가능한 객체를 가리키는 반복자가 필요하다면 <em>const_iterator</em>를 사용하면 된다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">vec</span><span class="p">;</span>

<span class="c1">// iter는 'T* const' 처럼 동작한다</span>
<span class="k">const</span> <span class="n">std</span><span class="o">:::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">iter</span> <span class="o">=</span> <span class="n">vec</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>

<span class="o">*</span><span class="n">iter</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>   <span class="c1">// 성공, iter가 가리키는 대상을 변경한다</span>
<span class="o">++</span><span class="n">iter</span><span class="p">;</span>       <span class="c1">// 에러, iter는 상수이다</span>

<span class="c1">// citer는 'const T*' 처럼 동작한다</span>
<span class="k">const</span> <span class="n">std</span><span class="o">:::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">const_iterator</span> <span class="n">citer</span> <span class="o">=</span> <span class="n">vec</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>

<span class="o">*</span><span class="n">citer</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>  <span class="c1">// 에러, *citer가 상수이기 때문에 대상의 변경이 불가능하다</span>
<span class="o">++</span><span class="n">citer</span><span class="p">;</span>      <span class="c1">// 성공, 대상이 아닌 자신을 변경하므로 가능하다</span>
</pre></table></code></div></div><h3 id="함수-선언에서의-const"><span class="mr-2">함수 선언에서의 Const</span><a href="#함수-선언에서의-const" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><em>const</em>의 가장 강력한 용도는 함수 선언에 사용할 경우이다. 함수 선언문에 있어서 <em>const</em>는 함수 반환 값, 각각의 매개변수, 멤버 함수 앞에 붙을 수 있고, 함수 전체에 대해 <em>const</em>의 성질을 붙일 수 있다.</p><p>함수 반환 값을 상수로 정해 주면, 안정성이나 효율을 포기하지 않고도 사용자측의 에러 발생 상황을 줄이는 효과를 줄 수 있다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Rational</span> <span class="p">{</span> <span class="p">...</span> <span class="p">};</span>

<span class="k">const</span> <span class="n">Rational</span> <span class="k">operator</span><span class="o">*</span> <span class="p">(</span><span class="k">const</span> <span class="n">Rational</span><span class="o">&amp;</span> <span class="n">lhs</span><span class="p">,</span> <span class="k">const</span> <span class="n">Rational</span><span class="o">&amp;</span> <span class="n">rhs</span><span class="p">);</span>

<span class="p">...</span>

<span class="c1">// 프로그래머의 실수에 대해 사전에 방지</span>

<span class="n">Rational</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">;</span>


<span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">)</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>    <span class="c1">// a*b의 결과에 operator= 호출</span>

<span class="k">if</span><span class="p">((</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">)</span> <span class="o">=</span> <span class="n">c</span><span class="p">)</span> <span class="c1">// 비교문 오타로 인해 잘못된 연산 호출</span>
</pre></table></code></div></div><p><em>const</em> 매개변수는 단순히 <em>const</em> 타입의 지역 객체과 특성이 같다. 물론 가능한 항상 사용하는 것이 좋다. 매개변수, 혹은 지역 객체를 수정할 수 없게 하는 것이 목적이라면, <em>const</em>로 선언하는 것을 잊어버리면 안된다.</p><h3 id="상수-멤버-함수"><span class="mr-2">상수 멤버 함수</span><a href="#상수-멤버-함수" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>멤버 함수에 붙은 <em>const</em> 키워드의 역할은 “<em>해당 멤버 함수가 상수 객체에 대해 호출될 함수이다</em>” 라는 사실을 알려 주는 것이다.</p><p>실제 프로그램에서 상수 객체가 생기는 경우는 아래와 같다.</p><ul><li>상수 객체에 대한 <em>포인터</em>로 객체가 전달될 떄<li>상수 객체에 대한 <em>참조자</em>로 객체로 전달될 때</ul><p>이러한 상수 멤버 함수가 중요한 이유는 아래와 같이 두가지가 있다.</p><ul><li>클래스의 인터페이스를 이해하기 좋게 해준다<ul><li>클래스로 만들어진 객체를 변경할 수 있는 함수는 무엇이고, 또 변경할 수 없는 함수는 무엇인가를 사용자측에서 알고 있어야 한다.</ul><li><em>const</em> 키워드를 통해 상수 객체를 사용할 수 있게 한다<ul><li>C++ 프로그램의 실행 성능을 높히는 핵심 기법중 하나는 객체 전달을 “<em>상수 객체에 대한 참조자(Reference to const)</em>“로 진행하는 것인데, 이 기법이 제대로 동작하려면 상수 상태로 전달된 객체를 조작할 수 있는 <em>const</em> 멤버 함수가 준비되어 있어야 한다.</ul></ul><p>C++의 <em>const</em>에 대하여 굉장히 중요한 성질중 하나는, “<em>*const</em> 키워드가 있고 없고의 차이만 있는 멤버 함수들은 오버로딩이 가능하다*” 라는 점이다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">TextBook</span> <span class="p">{</span>
<span class="nl">public:</span>

  <span class="p">...</span>

  <span class="c1">// 상수 객체에 대한 operator[]</span>
  <span class="k">const</span> <span class="kt">char</span><span class="o">&amp;</span> <span class="k">operator</span><span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">pos</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">text</span><span class="p">[</span><span class="n">pos</span><span class="p">];</span>
  <span class="p">}</span>
  
  <span class="c1">// 비상수 객체에 대한 operator[]</span>
  <span class="k">const</span> <span class="kt">char</span><span class="o">&amp;</span> <span class="k">operator</span><span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">pos</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">text</span><span class="p">[</span><span class="n">pos</span><span class="p">];</span>
  <span class="p">}</span>

<span class="nl">private:</span>
  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">text</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="nf">print</span><span class="p">(</span><span class="n">cosnt</span> <span class="n">TextBook</span><span class="o">&amp;</span> <span class="n">ctb</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// 상수 멤버를 호출</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ctb</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

  <span class="p">...</span>

<span class="p">}</span>

<span class="p">...</span>

<span class="n">TextBook</span> <span class="nf">tb</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">);</span>
<span class="n">TextBook</span> <span class="nf">ctb</span><span class="p">(</span><span class="s">"World"</span><span class="p">);</span>

<span class="c1">// 비상수 버전의 TextBook 객체를 읽는다</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">tb</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="c1">// 비상수 버전의 TextBook 객체를 사용한다</span>
<span class="n">tb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'x'</span><span class="p">;</span>

<span class="c1">// 상수 버전의 TextBook 객체를 읽는다</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ctb</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="c1">// 컴파일 에러, 상수 버전의 TextBook 객체에 대한 쓰기는 금지되어 있다</span>
<span class="c1">// </span>
<span class="n">ctb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'x'</span><span class="p">;</span>

</pre></table></code></div></div><p>operator[]를 오버로드하여 각 버전마다 변환 타입을 다르게 가져갔기 때문에, “TextBook”의 상수 객체과 비상수 객체의 쓰임새가 달라지게 된다.</p><p>위 예제에서 주의할 점은, “ctb[0] = ‘x’;” 부분에서 발생한 에러는 <em>const char&amp;</em> 타입에 대입 연산을 시도했기 때문에 생긴 순전히 operator[]의 <em>반환 타입(return type)</em> 때문이다. 즉, oprtator[] 호출이 잘못된 점은 없다.</p><p>또한 한가지 더 주의할 점은, operator[]의 비상수 멤버는 char의 <em>참조자(Reference)</em> 를 반한한다는 것인데, char 하나만 쓰면 안된다는 점이다. 만약 operator[]가 그냥 char을 반환하게 되어 있다면 다음과 같은 문장은 컴파일 되지 않을 것이다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">tb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'x'</span><span class="p">;</span>
</pre></table></code></div></div><p>이는 기본제공 타입을 반환하는 함수의 반환 값을 수정하는 일은 절대로 없기 때문이다. 만약 이것이 합법적으로 통한다고 하더라도, 반환시 “<em>값의 의한 반환</em>“을 수행하는 기본 성질이 존재한다. 즉, 수정되는 값은 tb.text[0]의 <strong>사본</strong>이지 tb.text[0] 자체가 아니다.</p><h3 id="비트수준-상수성bitwise-constness과-논리수준-상수성logical-constness"><span class="mr-2"><em>비트수준 상수성(Bitwise Constness)</em>과 <em>논리수준 상수성(Logical Constness)</em></span><a href="#비트수준-상수성bitwise-constness과-논리수준-상수성logical-constness" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>어떤 멤버 함수가 상수 멤버라는 것이 어떤 의미인가 라고 할때, 크게 두가지 개념이 자리잡고 있다.</p><ul><li><strong>비트수준 상수성(Bitwise Constness)</strong><ul><li><strong>물리적 상수성(Physical Constness)</strong>라고도 한다<li>어떤 멤버 함수가 그 객체의 어떤 데이터 멤버도 건드리지 않아야 그 멤버 함수가 ‘<em>const</em>’ 임을 인정<li>객체를 구성하는 비트들 중 어떤 것도 바꾸면 안됨<li>정적(static) 멤버는 제외<li>C++에서 정의되어 있는 상수성이 여기에 해당</ul><li><strong>논리수준(Logical Constness)</strong><ul><li>객체의 한 비트도 수정할 수 없게 하는 것이 아닌, 일부 몇 비트 정도는 바꿀 수 있되, 그것을 사용자 측에서 알아채지 못하게 함</ul></ul><p>한가지, ‘제대로 <em>const</em>‘로 동작하지 않는데도 이 비트수준 상수성 검사를 통과하는 멤버 함수들이 있을 수 있다. 어떤 포인터가 <em>가리키는 대상</em>을 수정하는 멤버 함수들 중 상당수가 이와 같은 경우이다. 그 <em>포인터</em>가 객체의 멤버로 들어 있는 한, 이 함수는 비트수준 상수성을 가지는 것으로 판별하고, 컴파일러도 에러를 발생하지 않는다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">CTextBook</span> <span class="p">{</span>
<span class="nl">public:</span>
  
  <span class="p">...</span>

  <span class="c1">// 부적절한, 그러나 비트수준 상수성에 있어 허용되는 상수 멤버 함수</span>
  <span class="kt">char</span><span class="o">&amp;</span> <span class="k">operator</span><span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">pos</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">pText</span><span class="p">[</span><span class="n">pos</span><span class="p">];</span>
  <span class="p">}</span>

<span class="nl">private:</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">pText</span><span class="p">;</span>
<span class="p">};</span>

<span class="p">...</span>

<span class="c1">// 상수 객체를 선언</span>
<span class="k">const</span> <span class="n">CTextBook</span> <span class="nf">cctb</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">);</span>

<span class="c1">// 상수 버전의 operator[]를 호출하여 cctb의 내부 데이터에 대한 포인터를 획득</span>
<span class="kt">char</span><span class="o">*</span> <span class="n">pc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">cctb</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="c1">// cctb의 값이 변경되어 이제 "Jello" 라는 값을 가짐</span>
<span class="o">*</span><span class="n">pc</span> <span class="o">=</span> <span class="sc">'J'</span><span class="p">;</span>
</pre></table></code></div></div><p>논리적 상수성에 대한 예시는 아래와 같다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="n">claclass</span> <span class="n">CTextBook</span> <span class="p">{</span>
<span class="nl">public:</span>
  
  <span class="p">...</span>

  <span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">length</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">lengthValid</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 에러, 상수 멤버 함수 안에서는 멤버 변수에 대입이 불가능하다</span>
      <span class="n">textLength</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">strlen</span><span class="p">(</span><span class="n">pText</span><span class="p">);</span>
      <span class="n">lengthValid</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">textLength</span><span class="p">;</span>
  <span class="p">}</span>

<span class="nl">private:</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">pText</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">textLength</span><span class="p">();</span> <span class="c1">// 바로 직전에 계산한 텍스트 길이</span>
  <span class="kt">bool</span> <span class="n">lengthValid</span><span class="p">;</span>         <span class="c1">// 이 길이가 유효한지</span>
<span class="p">};</span>
</pre></table></code></div></div><p>내부 데이터를 변경하지만 위와 같이 사용자에게는 숨겨저 있어 논리적 상수성을 만족한다고 하지만, 결국 C++의 컴파일러는 비트수준 상수성을 만족해야지만 에러 없이 작동한다. 즉, 위와 같은 예제는 논리적 상수성은 만족하지만 비트수준 상수정을 만족하지 못하여 에러를 발생시키게 되는 것이다.</p><p>이러한 상황일 때, 컴파일러의 비트수준 상수성을 회피하기 위해서는 <em>mutable</em> 키워드를 사용한다. <em>mutable</em>은 비정적 데이터를 비트수준 상수성의 족쇄에서 풀어 주는 효과를 보여준다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">CTextBook</span> <span class="p">{</span>
<span class="nl">public:</span>
  
  <span class="p">...</span>

  <span class="c1">// 부적절한, 그러나 비트수준 상수성에 있어 허용되는 상수 멤버 함수</span>
  <span class="kt">char</span><span class="o">&amp;</span> <span class="k">operator</span><span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">pos</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">pText</span><span class="p">[</span><span class="n">pos</span><span class="p">];</span>
  <span class="p">}</span>

<span class="nl">private:</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">pText</span><span class="p">;</span>
<span class="p">};</span>

<span class="p">...</span>

<span class="c1">// 상수 객체를 선언</span>
<span class="k">const</span> <span class="n">CTextBook</span> <span class="nf">cctb</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">);</span>

<span class="c1">// 상수 버전의 operator[]를 호출하여 cctb의 내부 데이터에 대한 포인터를 획득</span>
<span class="kt">char</span><span class="o">*</span> <span class="n">pc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">cctb</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="c1">// cctb의 값이 변경되어 이제 "Jello" 라는 값을 가짐</span>
<span class="o">*</span><span class="n">pc</span> <span class="o">=</span> <span class="sc">'J'</span><span class="p">;</span>
</pre></table></code></div></div><p>논리적 상수성에 대한 예시는 아래와 같다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="n">claclass</span> <span class="n">CTextBook</span> <span class="p">{</span>
<span class="nl">public:</span>
  
  <span class="p">...</span>

  <span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">length</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">lengthValid</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// mutable로 선언된 멤버변수 이므로 문제 없다</span>
      <span class="n">textLength</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">strlen</span><span class="p">(</span><span class="n">pText</span><span class="p">);</span>
      <span class="n">lengthValid</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">textLength</span><span class="p">;</span>
  <span class="p">}</span>

<span class="nl">private:</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">pText</span><span class="p">;</span>
  
  <span class="c1">// 이 멤버변수들은 어떤 순간에도 수정이 가능해진다.</span>
  <span class="c1">// 심지어 상수 멤버 함수안에서도 수정이 가능하다.</span>
  <span class="k">mutable</span> <span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">textLength</span><span class="p">();</span>
  <span class="k">mutable</span> <span class="kt">bool</span> <span class="n">lengthValid</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><h3 id="상수-멤버-및-비상수-멤버-함수에서-코드-중복-현상을-피하는-방법"><span class="mr-2">상수 멤버 및 비상수 멤버 함수에서 코드 중복 현상을 피하는 방법</span><a href="#상수-멤버-및-비상수-멤버-함수에서-코드-중복-현상을-피하는-방법" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">TextBook</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="p">...</span>

  <span class="c1">// 상수 버전의 operator[]</span>
  <span class="k">const</span> <span class="kt">char</span><span class="o">&amp;</span> <span class="k">operator</span><span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">pos</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
      <span class="c1">// 경계 검사, 접근 데이터 로깅, 자료 무결성 검증 등</span>

      <span class="p">...</span>

      <span class="k">return</span> <span class="n">text</span><span class="p">[</span><span class="n">pos</span><span class="p">];</span>
  <span class="p">}</span>

  <span class="c1">// 비상수 버전의 operator[]</span>
  <span class="kt">char</span><span class="o">&amp;</span> <span class="k">operator</span><span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">pos</span><span class="p">){</span>
      <span class="c1">// 경계 검사, 접근 데이터 로깅, 자료 무결성 검증 등</span>

      <span class="p">...</span>

      <span class="k">return</span> <span class="n">text</span><span class="p">[</span><span class="n">pos</span><span class="p">];</span>
  <span class="p">}</span>

<span class="nl">private:</span>
  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">text</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><p>위와 같은 상황일때, 두 멤버 함수의 차이는 상수 멤버인가, 비상수 멤버 인가 라는 점만 다를뿐 그 내용을 동일하다. 즉, 두 함수 사이에는 그 내용이 동일 하기 때문에 코드의 중복 문제가 발생하게 되는 것이다.</p><p>이러한 코드 중복을 피하기 위해, 비상수 멤버 함수에서 캐스팅을 통해 상수 멤버 함수를 호출하도록 하는 방법이 있다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">TextBook</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="p">...</span>

  <span class="c1">// 이전과 동일</span>
  <span class="k">const</span> <span class="kt">char</span><span class="o">&amp;</span> <span class="k">operator</span><span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">pos</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
      <span class="c1">// 경계 검사, 접근 데이터 로깅, 자료 무결성 검증 등</span>

      <span class="p">...</span>

      <span class="k">return</span> <span class="n">text</span><span class="p">[</span><span class="n">pos</span><span class="p">];</span>
  <span class="p">}</span>

  <span class="c1">// 상수 버전의 operator[]를 호출</span>
  <span class="kt">char</span><span class="o">&amp;</span> <span class="k">operator</span><span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">pos</span><span class="p">){</span>

      <span class="k">return</span> <span class="k">const_cast</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&amp;&gt;</span><span class="p">(</span>       <span class="c1">// operator[]의 반환타입에 캐스팅 적용하여,</span>
                                      <span class="c1">// const를 떼어냄</span>

        <span class="k">static_cast</span><span class="o">&lt;</span><span class="k">const</span> <span class="n">TextBook</span><span class="o">&amp;&gt;</span>  <span class="c1">// *this의 타입에 const를 붙임</span>
         <span class="p">(</span><span class="o">*</span><span class="k">this</span><span class="p">)[</span><span class="n">pos</span><span class="p">]</span>                 <span class="c1">// operator[]의 상수 버전을 호출</span>
      <span class="p">);</span>
  <span class="p">}</span>

<span class="nl">private:</span>
  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">text</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><p>이렇게 비상수 멤버 함수에서 상수 멤버 함수를 호출하는 것과 반대로 상수 멤버 함수에서 비상수 멤버 함수를 호출하는 것은, 위험을 초래할 수 있다. 상수 멤버 함수는 해당 객체의 논리적인 상태를 바꾸지 않겠다고 컴파일러와 약속한 함수인 반면, 비상수 멤버 함수는 이런 약속을 일절 하지 않는 다. 즉, 상수 멤버에서 비상수 멤버를 호출하게 되면, 수정하지 않겠다고 약속한 그 객체를 배신하게 되고, 그 객체는 변경될 위험이 있다.</p><h2 id="요점"><span class="mr-2">요점</span><a href="#요점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><blockquote><p><em>const</em>를 붙여 선언하면 컴파일러가 사용상의 에러를 잡아내는데 도움을 준다.</p></blockquote><blockquote><p><em>const</em>는 어떤 유효번위에 있는 객체에도 붙을수 있드며, 함수 매개변수 및 반환 타입, 멤버 함수에도 붙을 수 있다.</p></blockquote><blockquote><p>컴파일러 쪽에서 보면 비트수준 상수성을 지켜야 하지만, 프로그래머는 논리적 상수성을 사용하여 프로그래밍 해야 한다.</p></blockquote><blockquote><p>상수 멤버 및 비상수 멤버가 기능적으로 서로 똑같이 구현되어 있을 경우에는 코드의 중복을 피하는 것이 좋은데, 이때 비상수 버전이 상수 버전을 호출하도록 구현해야 한다.</p></blockquote><hr /><hr /><p><em>참고</em>. Effective C++ 3/E - Scott Meyers</p><hr /></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/c/'>C++</a>, <a href='/categories/effective-c/'>Effective C++</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/c/" class="post-tag no-text-decoration" >C++</a> <a href="/tags/effective-c/" class="post-tag no-text-decoration" >Effective C++</a> <a href="/tags/const/" class="post-tag no-text-decoration" >Const</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Effective C++ - Item.3 - My Technical Diary&amp;url=https://issuh.github.io/posts/effective_c++_item_3/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Effective C++ - Item.3 - My Technical Diary&amp;u=https://issuh.github.io/posts/effective_c++_item_3/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://issuh.github.io/posts/effective_c++_item_3/&amp;text=Effective C++ - Item.3 - My Technical Diary" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/educative-distributed-system-10/">Distributed Systems - Coordination Patterns</a><li><a href="/posts/educative-distributed-system-04/">Distributed Systems - CAP</a><li><a href="/posts/educative-distributed-system-03/">Distributed Systems - Replication</a><li><a href="/posts/my_project_simpledb/">simpleDB - 메모리</a><li><a href="/posts/ps-hackerrank-01/">HackerRandk - Fraudulent Activity Notifications</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ps/">PS</a> <a class="post-tag" href="/tags/leetcode/">Leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/spring-framework/">Spring Framework</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/hash/">Hash</a> <a class="post-tag" href="/tags/database/">DataBase</a> <a class="post-tag" href="/tags/tree/">Tree</a> <a class="post-tag" href="/tags/array/">Array</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/effective_c++_item_1/"><div class="card-body"> <em class="timeago small" data-ts="1586535060" > 2020-04-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Effective C++ - Item.1</h3><div class="text-muted small"><p> C++를 언어들의 연합체로 바라보는 안목은 필수 오늘날의 C++는 다중패러다임 프로그래밍 언어(Multiparadigm Programming Language) 라고 불리운다. 절차적(Procedural) 프로그래밍 을 기본으로 하여 객체 지향(Object Oriented) , 함수식(Functional) , 일반화(Generic) 프로그래밍을 포함...</p></div></div></a></div><div class="card"> <a href="/posts/effective_c++_item_2/"><div class="card-body"> <em class="timeago small" data-ts="1586538180" > 2020-04-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Effective C++ - Item.2</h3><div class="text-muted small"><p> #define을 쓰려거든 const, enum, inline을 떠올리자 가급적 전처리기(Preprocessor) 보다 컴파일러를 가까이 하자   #define의 경우 전처리기에서 이미 치환시켜 값을 대입하기 때문에 컴파일러가 쓰는 기호 테이블에 값이 들어가지 않는다. 따라서 숫자 상수로 대체된 코드에서 컴파일 에러가 발생한다면 이를 디버깅하...</p></div></div></a></div><div class="card"> <a href="/posts/effective_c++_item_4/"><div class="card-body"> <em class="timeago small" data-ts="1588252500" > 2020-04-30 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Effective C++ - Item.4</h3><div class="text-muted small"><p> 객체를 사용하기 전에 반드시 그 객체를 초기화하자 내용 객체의 초기화 초기화되지 않은 값을 읽도록 내버려 두면 정의되지 않은 동작이 그대로 흘러 나오게 된다. 일반적인 경우에 적당히 무작위 비트의 값을 읽고 객체의 내부가 이상한 값을 가지게 된다. C++에서 객체의 초기화 보장 유무 C++의 객체(변수) 초기화가 중구난방인 것은 절대 아니...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/design_patterns-visitor/" class="btn btn-outline-primary" prompt="Older"><p>Design Patterns - Visitor</p></a> <a href="/posts/effective_c++_item_4/" class="btn btn-outline-primary" prompt="Newer"><p>Effective C++ - Item.4</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/ISSuh">ISSuh</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ps/">PS</a> <a class="post-tag" href="/tags/leetcode/">Leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/spring-framework/">Spring Framework</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/hash/">Hash</a> <a class="post-tag" href="/tags/database/">DataBase</a> <a class="post-tag" href="/tags/tree/">Tree</a> <a class="post-tag" href="/tags/array/">Array</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-157715138-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-157715138-1'); }); </script>

<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Design Patterns - Bridge" /><meta property="og:locale" content="en" /><meta name="description" content="Structural Patterns - Bridge" /><meta property="og:description" content="Structural Patterns - Bridge" /><link rel="canonical" href="https://issuh.github.io/posts/design_patterns-bridge/" /><meta property="og:url" content="https://issuh.github.io/posts/design_patterns-bridge/" /><meta property="og:site_name" content="My Technical Diary" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-04-15T20:20:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Design Patterns - Bridge" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-03-05T12:33:07+09:00","datePublished":"2020-04-15T20:20:00+09:00","description":"Structural Patterns - Bridge","headline":"Design Patterns - Bridge","mainEntityOfPage":{"@type":"WebPage","@id":"https://issuh.github.io/posts/design_patterns-bridge/"},"url":"https://issuh.github.io/posts/design_patterns-bridge/"}</script><title>Design Patterns - Bridge | My Technical Diary</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="My Technical Diary"><meta name="application-name" content="My Technical Diary"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/profile.jpeg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">My Technical Diary</a></div><div class="site-subtitle font-italic">ISSuh's tech blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/aboutme/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ISSuh" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['yoyus5','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Design Patterns - Bridge</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Design Patterns - Bridge</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/ISSuh">ISSuh</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1586949600" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2020-04-15 </em> </span> <span> Updated <em class="timeago" data-ts="1646451187" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-03-05 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2099 words"> <em>11 min</em> read</span></div></div></div><div class="post-content"><h1 id="structural-patterns---bridge">Structural Patterns - Bridge</h1><h2 id="intent"><span class="mr-2">Intent</span><a href="#intent" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><p>구현에서 추상을 분리하여, 이들이 독립적으로 다야엉을 가질 수 있도록 한다.</p><p>핸들(Hanle), 구현부(Body) 라고도 불린다.</p><h2 id="utility"><span class="mr-2">Utility</span><a href="#utility" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><ul><li>추상적 새념과 이에 대한 구현 사잉의 지속적인 종속 관계를 피하고 싶을 때<li>런타일에 구현 방법을 선택하거나 구현 내용을 변경하고 싶을 떄<li>추상적 개념과 구현 모두가 독립적으로 서브클래싱을 통해 확장되어야 할 떄<li>추상적 개념에 대한 구현 내용을 변경하는 것이 다른 관련 프로그램에 아무런 영향을 주지 않을 때<li>클래스 계통에서 클래스의 수가 급증하는 것을 방지하고자 할 떄<li>여러 객체들에 걸쳐 구현을 공유하고자 하며, 이러한 사실을 사용자에게 공개하고 싶지 않을 때<li><em>(C++에서 해당)</em> 사용자들은 사용자에게 구현을 완벽하게 은닉하고자 할 때</ul><h2 id="structure"><span class="mr-2">Structure</span><a href="#structure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><h3 id="basic-structure"><span class="mr-2">Basic Structure</span><a href="#basic-structure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><img data-src="https://www.cs.unc.edu/~stotts/GOF/hires/Pictures/bridge.gif" alt="example" data-proofer-ignore></p><h3 id="structure-example"><span class="mr-2">Structure Example</span><a href="#structure-example" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><img data-src="https://www.cs.unc.edu/~stotts/GOF/hires/Pictures/bridg100.gif" alt="example" data-proofer-ignore></p><h3 id="elements"><span class="mr-2">Elements</span><a href="#elements" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>Abstraction</strong><ul><li><em>window</em>에 해당<li>추상적 개념에 대한 인터페이스를 제공<li>객체 구현자(<em>Implmentor</em>)에 대한 참조자를 관리</ul><li><strong>RefinedAbstraction</strong><ul><li><em>IconWindw</em>에 해당<li>추상적 개념에 정의된 인터페이스를 확장</ul><li><strong>Implementor</strong><ul><li><em>WindowImp</em>에 해당<li>추현 클래스에 대한 인터페이스를 제공<li>실질적인 구현을 제공한 서브클래스들의 공통적인 연산의 시그네처만을 정의<li>일반적으로 <em>Implementor</em> 인터페이스는 기본적인 구현 연산을 수행하고, <em>Abstraction</em>은 더 추상화된 서비스 관점의 인터페이스를 제공</ul><li><strong>ConcreteImplementor</strong><ul><li><em>XWindowImp</em>, <em>PMWindowImp</em>에 해당<li><em>Implementor</em> 인터페이스를 구현하여 실질적인 구현 내용 제공</ul></ul><p><em>Abstraction</em> 클래스가 사용자 요청을 <em>Implementor</em> 객체에게 전달한다.</p><h2 id="feature"><span class="mr-2">Feature</span><a href="#feature" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><h3 id="인터페이스과-구현을-분리"><span class="mr-2">인터페이스과 구현을 분리</span><a href="#인터페이스과-구현을-분리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>구현이 인터페이스에 얽매이지 않게 되면서, 추상적 개념에 대한 어떤 방식의 구현을 선택할 것인지 런타임에 결정 가능해 진다. 이는 런타임에 어떤 객체가 자신의 구현을 수시로 변경할 수 있음을 의미한다.</p><p><em>Abstraction</em>과 <em>Implementor</em>의 분리는 컴파일 타임 의존성을 제거할 수 있다. 구현을 변경하더라도 추상적 개념에 대한 클래스를 다시 컴파일할 필요가 없으며, 추상적 개념 클래스과 관련된 다른 코드 역시 다시 컴파일할 필요가 없다.</p><p>시스템 구조의 계층화(Layering)이 가능해진다. 이러한 시스템의 상위 수준 영역에서는 <em>Abstraction</em>과 <em>Implementor</em>만 알면 된다.</p><h3 id="확장성-제고"><span class="mr-2">확장성 제고</span><a href="#확장성-제고" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><em>Abstraction</em>과 <em>Implementor</em>를 독립적으로 확장 가능하다.</p><h3 id="구현-세부사항-은닉"><span class="mr-2">구현 세부사항 은닉</span><a href="#구현-세부사항-은닉" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>상세한 구현 내용응 사용자에게서 은닉 시킬수 있다.</p><h2 id="implementation"><span class="mr-2">Implementation</span><a href="#implementation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><h3 id="considerations-point-in-implementaion"><span class="mr-2">Considerations point in implementaion</span><a href="#considerations-point-in-implementaion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><h4 id="implementor-하나만-둔다"><span class="mr-2"><em>Implementor</em> 하나만 둔다</span><a href="#implementor-하나만-둔다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>구현방법이 오직 하나뿐 일때 <em>Implementor</em>를 추상 클래스로 정의하는 것은 불필요하다. 이는 개념의 추상화와 이를 구현하는 구현 사이에 일대일 관계가 성립되므로써, <em>Bridge Pattern</em>의 의미를 퇴색시킨다.</p><p>그러나, 그럼에도 추상적 개념과 구현부를 분리하는 것은 여전히 의미가 있는데, 이는 사용자를 클래스 구현의 변경에서 독립시킬수 있기 때문이다. 즉, 클래스의 구현이 변경되었다 하더라도 사용자를 다시 컴파일할 필요는 없고, 단지 링크 과정만 재수행 하면 된다.</p><p>C++에서는 굳이 이를 두 개의 파일로 구분할 필요 없이 <em>Implementor</em> 클래스의 인터페이스를 사용자에게 보이지 않도록 private영역에 정의하면 된다. 이로써 사용자는 private에 정의된 인터페이스 구현에 접근할 수 없게 된다.</p><h4 id="정확한-implementor-객체를-생성"><span class="mr-2">정확한 <em>Implementor</em> 객체를 생성</span><a href="#정확한-implementor-객체를-생성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><em>Implemetor</em> 클래스가 여러개일때, 어떤 <em>Implementor</em> 클래스를 인스턴스를 언제, 어떻게, 몇개나 생성할지 결정해야 하는데, 이에 대해 아래와 같은 방법이 있다.</p><ul><li><em>Abstraction</em> 클래스가 모든 <em>ConcreteImplementor</em>를 알고 있다면, 이들중 하나를 자신의 생성자 안에서 생성한다.<li>초기에는 기본 구현을 선택한 후, 필요에 따라 다른 것을 선택하도록 한다.<li>결정을 다른 객체에게 위임한다.</ul><h4 id="implementor를-공유"><span class="mr-2"><em>Implementor</em>를 공유</span><a href="#implementor를-공유" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><strong>Coplien</strong>은 C++로 구현된 <em>Bridge Pattern(Handle/Body)</em>에서 여러 객체들이 동일한 구현을 공유할수 있는 방법을 제시한다.</p><p>참조 카운트를 이용하여, 이 카운트를 증가시키고 감소시키면서 참조 횟수가 0이 되면 객체를 자동으로 지우도록 한다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="n">Handle</span><span class="o">&amp;</span> <span class="n">Handle</span><span class="o">::</span><span class="k">operator</span><span class="o">=</span> <span class="p">(</span><span class="k">const</span> <span class="n">Handle</span><span class="o">&amp;</span> <span class="n">rhs</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">rhs</span><span class="p">.</span><span class="n">_body</span><span class="o">-&gt;</span><span class="n">Ref</span><span class="p">();</span>
  <span class="n">_body</span><span class="o">-&gt;</span><span class="n">UnRef</span><span class="p">();</span>

  <span class="k">if</span><span class="p">(</span><span class="n">_body</span><span class="o">-&gt;</span><span class="n">RefCount</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">delete</span> <span class="n">_body</span><span class="p">;</span>

  <span class="n">_body</span> <span class="o">=</span> <span class="n">rhs</span><span class="p">.</span><span class="n">_body</span><span class="p">;</span>

  <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><h4 id="다중상속을-이용"><span class="mr-2">다중상속을 이용</span><a href="#다중상속을-이용" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>C++에서는 다중상속을 이용하여 인터페이스와 구현을 합칠수 있다.</p><p>그러나 이런방법은 코드의 상속에 기반을 둔 것이디 때문에, 인터페이스에 대한 구현을 영구히 종속시켜 버린다. 따라서 이러한 다중상속을 이용한 구현은, <em>Bridge Pattern</em>의 의미를 퇴색 시킨다.</p><h3 id="implement-example"><span class="mr-2">Implement Example</span><a href="#implement-example" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
</pre><td class="rouge-code"><pre><span class="cm">/**
* @brief Abstraction - Window
* @details 추상적 개념의 인터페이스를 제공
*/</span>
<span class="k">class</span> <span class="nf">Window</span><span class="p">(){</span>
<span class="nl">public:</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">Window</span><span class="p">()</span> <span class="p">{}</span>
  
  <span class="c1">// Window가 처리할 요청</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">getContents</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  
  <span class="c1">// 구현 클래스를 이용하여 처리할 요청</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">displayWindow</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">Redner</span><span class="o">*</span> <span class="n">render</span> <span class="o">=</span> <span class="n">getRenderImpl</span><span class="p">();</span>
    <span class="n">render</span><span class="o">-&gt;</span><span class="n">renderWindow</span><span class="p">();</span>
  <span class="p">}</span>

<span class="nl">protected:</span>
  <span class="c1">// Implementor 객체 생성 및 관리</span>
  <span class="n">Render</span><span class="o">*</span> <span class="n">getRenderImpl</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">m_impl</span><span class="p">){</span>

<span class="cp">#ifdef OS_WINDOW
</span>      <span class="n">m_impl</span> <span class="o">=</span> <span class="k">dynamic_cast</span><span class="o">&lt;</span><span class="n">Render</span><span class="o">*&gt;</span><span class="p">(</span><span class="k">new</span> <span class="n">WinRender</span><span class="p">());</span>
<span class="cp">#else
</span>      <span class="n">m_impl</span> <span class="o">=</span> <span class="k">dynamic_cast</span><span class="o">&lt;</span><span class="n">Render</span><span class="o">*&gt;</span><span class="p">(</span><span class="k">new</span> <span class="n">OSXRender</span><span class="p">());</span>

    <span class="p">}</span>

    <span class="k">return</span> <span class="n">m_impl</span><span class="p">;</span>
  <span class="p">}</span>

<span class="nl">private:</span>
  <span class="n">Render</span><span class="o">*</span> <span class="n">m_impl</span> <span class="o">==</span> <span class="nb">nullptr</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**
* @brief RefinedAbstraction - ImageWindow
* @details 추상적 개념의 인터페이스를 확장
*          다른 종류의 window 정의하여 추가적인 서비스를 제공
*/</span>
<span class="k">class</span> <span class="nc">ImageWindow</span><span class="p">()</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Window</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="kt">void</span> <span class="n">getContents</span><span class="p">()</span> <span class="k">override</span> <span class="p">{</span> <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"get Image File"</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/**
* @brief RefinedAbstraction - VideoWindow
* @details 추상적 개념의 인터페이스를 확장
*          다른 종류의 window 정의하여 추가적인 서비스를 제공
*/</span>
<span class="k">class</span> <span class="nc">VideoWindow</span><span class="p">()</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Window</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="kt">void</span> <span class="n">getContents</span><span class="p">()</span> <span class="k">override</span> <span class="p">{</span> <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"get Video File"</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/**
* @brief Implementor - Render
* @details Abstraction의 세부 행위의 인터페이스 정의
*/</span>
<span class="k">class</span> <span class="nf">Render</span><span class="p">()</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">Render</span><span class="p">()</span> <span class="p">{}</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">renderWindow</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**
* @brief ConcreteImplementor - WinRender
* @details Implementor를 상속받아 Abstraction의 세부 행위의 인터페이스를 구현
*/</span>
<span class="k">class</span> <span class="nc">WinRender</span><span class="p">()</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Render</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="kt">void</span> <span class="n">renderWindow</span><span class="p">()</span> <span class="k">override</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"[WINDOW] window rendering "</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/**
* @brief ConcreteImplementor - OSXRender
* @details Implementor를 상속받아 Abstraction의 세부 행위의 인터페이스를 구현
*/</span>
<span class="k">class</span> <span class="nc">OSXRender</span><span class="p">()</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Render</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="kt">void</span> <span class="n">renderWindow</span><span class="p">()</span> <span class="k">override</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"[OSX] window rendering "</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="p">...</span>

<span class="cp">#define OS_WINDOW 1
</span>  
  <span class="c1">//RefinedAbstraction인 ImageWindow 객체 생성</span>
  <span class="n">ImageWindow</span> <span class="n">imgWindow</span><span class="p">;</span>
  <span class="n">VideoWindow</span> <span class="n">videoWindow</span><span class="p">;</span>

  <span class="c1">// Abstraction에서 확장된 각자 자신만의 서비스 구현체 실행</span>
  <span class="n">imgWindow</span><span class="p">.</span><span class="n">getContents</span><span class="p">();</span>
  <span class="n">videoWindow</span><span class="p">.</span><span class="n">getContents</span><span class="p">();</span>

  <span class="c1">// 상황에 맞게 선택된 Implementor 실행</span>
  <span class="n">imgWindow</span><span class="p">.</span><span class="n">displayWindow</span><span class="p">();</span>
  <span class="n">videoWindow</span><span class="p">.</span><span class="n">displayWindow</span><span class="p">();</span>

<span class="p">...</span>

</pre></table></code></div></div><h2 id="related-pattern"><span class="mr-2">Related Pattern</span><a href="#related-pattern" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><p><em>Abstract Factory Pattern</em>은 특정 <em>Bridge</em>를 생성하고 복합할 수 있도록 해준다.</p><p><em>Adapter Pattern</em>은 서로 관련이 없는 클래스들이 함께 동작하게 만드는 쪽에 특화시켜 만들어진 패턴이다. 이 패턴은 대게 각 클래스의 설계가 끝난 이후에 적용된다.<br /> <em>Bridge Pattern</em>은 설계 단계 초기에 투입되어 추상화 및 구현이 독립적으로 다양화되도록 만드는데 쓰인다.</p><hr /><hr /><p><em>참고</em>. Design Patterns : Elements of Reusable Object-Oriented Software - Erich Gamma</p><hr /></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/design-patterns/'>Design Patterns</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/design-patterns/" class="post-tag no-text-decoration" >Design Patterns</a> <a href="/tags/structural-patterns/" class="post-tag no-text-decoration" >Structural Patterns</a> <a href="/tags/bridge/" class="post-tag no-text-decoration" >Bridge</a> <a href="/tags/c/" class="post-tag no-text-decoration" >C++</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Design Patterns - Bridge - My Technical Diary&amp;url=https://issuh.github.io/posts/design_patterns-bridge/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Design Patterns - Bridge - My Technical Diary&amp;u=https://issuh.github.io/posts/design_patterns-bridge/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://issuh.github.io/posts/design_patterns-bridge/&amp;text=Design Patterns - Bridge - My Technical Diary" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/educative-distributed-system-10/">Distributed Systems - Coordination Patterns</a><li><a href="/posts/educative-distributed-system-04/">Distributed Systems - CAP</a><li><a href="/posts/educative-distributed-system-03/">Distributed Systems - Replication</a><li><a href="/posts/my_project_simpledb/">simpleDB - 메모리</a><li><a href="/posts/ps-hackerrank-01/">HackerRandk - Fraudulent Activity Notifications</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ps/">PS</a> <a class="post-tag" href="/tags/leetcode/">Leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/spring-framework/">Spring Framework</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/hash/">Hash</a> <a class="post-tag" href="/tags/database/">DataBase</a> <a class="post-tag" href="/tags/tree/">Tree</a> <a class="post-tag" href="/tags/array/">Array</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/design_patterns-adapter/"><div class="card-body"> <em class="timeago small" data-ts="1586898480" > 2020-04-15 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Design Patterns - Adapter</h3><div class="text-muted small"><p> Structural Patterns - Adapter Intent 클래스의 인터페이스를 사용자가 기대하는 인터페이스 형태로 정응(변환)시킨다. 서로 일치하지 않는 인터페이스를 가지는 클래스들을 함께 동작시킨다. Utility 기존 클래스를 사용하고 싶은데 인터페이스가 맞지 않을 때 이미 만든 것을 재사용하고자 하나 이 재사용 가...</p></div></div></a></div><div class="card"> <a href="/posts/design_patterns-composite/"><div class="card-body"> <em class="timeago small" data-ts="1586955900" > 2020-04-15 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Design Patterns - Composite</h3><div class="text-muted small"><p> Structural Patterns - Composite Intent 부분과 전체의 계층을 표현하기 위해 객체들을 모아 트리 구조로 구성한다. 사용자로 하여금 개별 객체와 복합 객체를 모두 동일하게 두룰수 있게 한다. Utility 부분-전체의 객체 계통을 표현하고 싶을 때 사용자가 객체의 합성으로 생긴 복합 객체와 개개의 객...</p></div></div></a></div><div class="card"> <a href="/posts/design_patterns-decorator/"><div class="card-body"> <em class="timeago small" data-ts="1587209400" > 2020-04-18 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Design Patterns - Decorator</h3><div class="text-muted small"><p> Structural Patterns - Decorator Intent 객체에 동적으로 새로운 책임을 추가할 수 있게 한다. 기능을 추가하려면, 서브클래스를 생성하는 것보다 융통성 있는 방법을 제시한다. 랩퍼(Wrapper) 라고도 불린다. Utility 동적으로 또한 투명하게(transparent), 즉 다른 객체에 영향을 주지...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/design_patterns-adapter/" class="btn btn-outline-primary" prompt="Older"><p>Design Patterns - Adapter</p></a> <a href="/posts/design_patterns-composite/" class="btn btn-outline-primary" prompt="Newer"><p>Design Patterns - Composite</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/ISSuh">ISSuh</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ps/">PS</a> <a class="post-tag" href="/tags/leetcode/">Leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/spring-framework/">Spring Framework</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/hash/">Hash</a> <a class="post-tag" href="/tags/database/">DataBase</a> <a class="post-tag" href="/tags/tree/">Tree</a> <a class="post-tag" href="/tags/array/">Array</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-157715138-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-157715138-1'); }); </script>

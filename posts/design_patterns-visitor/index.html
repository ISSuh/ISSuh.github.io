<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Design Patterns - Visitor" /><meta property="og:locale" content="en" /><meta name="description" content="Behavioral Patterns - Visitor" /><meta property="og:description" content="Behavioral Patterns - Visitor" /><link rel="canonical" href="https://issuh.github.io/posts/design_patterns-visitor/" /><meta property="og:url" content="https://issuh.github.io/posts/design_patterns-visitor/" /><meta property="og:site_name" content="My Technical Diary" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-04-28T06:32:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Design Patterns - Visitor" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-03-05T12:33:07+09:00","datePublished":"2020-04-28T06:32:00+09:00","description":"Behavioral Patterns - Visitor","headline":"Design Patterns - Visitor","mainEntityOfPage":{"@type":"WebPage","@id":"https://issuh.github.io/posts/design_patterns-visitor/"},"url":"https://issuh.github.io/posts/design_patterns-visitor/"}</script><title>Design Patterns - Visitor | My Technical Diary</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="My Technical Diary"><meta name="application-name" content="My Technical Diary"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/profile.jpeg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">My Technical Diary</a></div><div class="site-subtitle font-italic">ISSuh's tech blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/aboutme/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ISSuh" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['yoyus5','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Design Patterns - Visitor</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Design Patterns - Visitor</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/ISSuh">ISSuh</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1588023120" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2020-04-28 </em> </span> <span> Updated <em class="timeago" data-ts="1646451187" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-03-05 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3322 words"> <em>18 min</em> read</span></div></div></div><div class="post-content"><h1 id="behavioral-patterns---visitor">Behavioral Patterns - Visitor</h1><h2 id="intent"><span class="mr-2">Intent</span><a href="#intent" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><p>객체의 구조와 기능을 분리시킨다.</p><p>구조는 변하지 않으며 기능만 따로 추거되거나 확장될 경우 사용할 수 있는 패턴이다.</p><p>객체 구조를 이루는 원소에 대해 수행할 연산을 표현한다.</p><p>연산을 적용할 원소의 클래스를 변경하지 않고도 새로운 연산을 정의할 수 있게 한다.</p><h2 id="utility"><span class="mr-2">Utility</span><a href="#utility" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><ul><li>다른 인터페이스를 가진 클래스가 객체 구조에 포함되어 있어며, 구체 클래스에 따라 달라진 연산을 이들 클래스의 객체에 대해 수행하고자 할 때<li>각각 트깅이 있고, 관련되지 않은 연산들이 한 객체 구조에 속해있는 객체들에 대해 수행될 필요가 있으며, 연산으로 클래스들을 “더럽히고” 싶지 않을 때<ul><li><em>Visitor</em> 클래스는 관련된 모든 연산을 하나의 클래스 안에다 정의해 놓음으로써 관련된 연산이 함께 있을수 있게 해 준다.<li>어떤 객체 구조가 많은 응용프로그램으로 공유돌 때, <em>Visitor</em> 클래스를 이용하면 이 객체 구조가 필요한 응용프로그램에만 연산을 둘 수 있다.</ul><li>객체 구조를 정의한 클래스는 거의 변하지 않지만, 전체 구조에 걸쳐 새로운 연산을 추가하고 싶을 떄<ul><li>객체 구조를 변경하려면 모든 방문자에 대한 인터페이스를 재정의해야 하는데, 이 작업에 잠재된 비용이 클 수 있다.<li>객체 구조가 자주 변경될 때는 해당 연산을 클래스에 정의하는 편이 더 낫다.</ul></ul><h2 id="structure"><span class="mr-2">Structure</span><a href="#structure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><h3 id="basic-structure"><span class="mr-2">Basic Structure</span><a href="#basic-structure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><img data-src="https://www.cs.unc.edu/~stotts/GOF/hires/Pictures/visitor.gif" alt="example" data-proofer-ignore></p><h3 id="structure-example"><span class="mr-2">Structure Example</span><a href="#structure-example" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><img data-src="https://www.cs.unc.edu/~stotts/GOF/hires/Pictures/visit006.gif" alt="example" data-proofer-ignore></p><p><img data-src="https://www.cs.unc.edu/~stotts/GOF/hires/Pictures/visit113.gif" alt="example" data-proofer-ignore></p><p><img data-src="https://www.cs.unc.edu/~stotts/GOF/hires/Pictures/visit112.gif" alt="example" data-proofer-ignore></p><h3 id="elements"><span class="mr-2">Elements</span><a href="#elements" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>Visitor</strong><ul><li><em>NodeVisitor</em>에 해당<li>객체 구조 내에 있는 각 <em>ConcreteElement</em> 클래스를 위한 <em>Visit()</em> 연산을 선언<li>연산의 이름과 인터페이스 형태를 통해, <em>Visit()</em> 요청을 방문자에게 보내는 클래스를 식별<li>방문자는 방문된 원소의 구체 클래스를 결정 가능<li>방문자는 원소가 제공하는 인터페이스를 통해 원소에 직접 접근 가능</ul><li><strong>ConcreteVisitor</strong><ul><li><em>TypeCheckingVisitor</em>에 해당<li><em>Visitor</em> 클래스에 선언된 연산을 구현<li>각 연산은 구조 내에 있는 객체의 대응 클래스에 정의된 일부 알고리즘을 구현<li><em>ConcreteVisitor</em> 클래스는 알고리즘이 운영될 수 있는 상황 정보를 제공하며 자체 상태를 저장</ul><li><strong>Element</strong><ul><li><em>Node</em>에 해당<li>방문자를 인자로 받아들이는 <em>Accept()</em> 연산 정의</ul><li><strong>ConcreteElement</strong><ul><li><em>AssignmentNode</em>, <em>VariableRefNode</em>에 해당<li>인자로 방문자 객체를 받아들이는 <em>Accept()</em> 연산 구현</ul><li><strong>ObjectStructure</strong><ul><li><em>Program</em>에 해당<li>객체 구조 내의 원소들을 나옇<li>방문자가 원소에 접근하게 하는 상위 수준 인터페이스를 제공<li><em>ObjectStructure</em>는 <em>Composite Pattern</em>으로 만든 복함체 일 수도 있고, 리스트나 집합등 컬렉션으로 구현 가능</ul></ul><h4 id="elements-communication"><span class="mr-2">Elements Communication</span><a href="#elements-communication" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><em>Visitor Pattern</em>을 사용하는 사용자는 <em>ConcreteVisitor</em> 클래스의 객체를 생성하고 객체 구조를 따라서 각 원소를 방문하여 순회해야 한다.</p><p>방문자가 구성 원소들을 방문할 때, 구성 원소는 해당 클래스의 <em>Visitor</em> 연산을 호출한다. 이 원소들은 자신을 <em>Visitor</em> 연산에 필요한 인자로 제공하여 방문자 자신의 상태에 접근할 수 있도록 한다.</p><p>다음의 상호작용 다이어그램은 방문자 객체와 두 원소 사이의 협력 관계를 보여준다.</p><p><img data-src="https://www.cs.unc.edu/~stotts/GOF/hires/Pictures/visit003.gif" alt="example" data-proofer-ignore></p><h2 id="feature"><span class="mr-2">Feature</span><a href="#feature" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><h4 id="visitor-클래스는-새로운-연산을-쉽게-추가한다"><span class="mr-2"><em>Visitor</em> 클래스는 새로운 연산을 쉽게 추가한다</span><a href="#visitor-클래스는-새로운-연산을-쉽게-추가한다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><em>Visitor</em> 클래스는 복잡한 객체를 구성하는 요소에 속한 연산을 쉽게 추가할 수 있다. 새로운 방문자를 추가하면 객체 구조에 대한 새로운 연산을 추가할 것이 된다.</p><h4 id="방문자를-통해-관련된-연산들을-한-군데로-모으고-관련되지-않은-연산을-떼어낼-수-있다"><span class="mr-2">방문자를 통해 관련된 연산들을 한 군데로 모으고 관련되지 않은 연산을 떼어낼 수 있다</span><a href="#방문자를-통해-관련된-연산들을-한-군데로-모으고-관련되지-않은-연산을-떼어낼-수-있다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>관련된 행동들이 객체 구조를 정의하는 클래스에 분산되지 않게되며, 방문자 클래스에 모인다. 관련되지 않은 행동들은 그 자신의 방문자 서브클래스로 나뉜다.</p><p>이는 원소를 정의하는 클래스 및 방문자에 정의되어 있는 알고리즘 모두를 간단하게 만든다. 알고리즘에 특화된 자료 구존는 어떤 것이든지 방문자 속에 숨겨진다.</p><h4 id="새로운-concreteelement-클래스를-추가하기-어렵다"><span class="mr-2">새로운 <em>ConcreteElement</em> 클래스를 추가하기 어렵다</span><a href="#새로운-concreteelement-클래스를-추가하기-어렵다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><em>Visitor Pattern</em>을 사용하면 <em>Element</em> 클래세에 대한 새로운 서브클래스를 추가하기 어려워 진다.</p><p><em>ConcreteElement</em> 클래스가 새로 생길때 마다, <em>Visitor</em> 클래스에 대한 새로운 추상 연산 및 모든 <em>ConcreteVisitor</em> 클래스에 그 연산에 대응하는 구현을 제공해야 한다. <em>Visitor</em> 클래스에 기본적인 구현이 간혹 제공되기는 하지만, 일반적인 상황은 아니다.</p><p><em>Visitor Pattern</em>을 적용할 때 중요하개 고려해야 하는 사항은, 객체의 구조에 적용될 알고리즘의 변화가 자주 발생하는가, 아니면 이 같은 구조를 구성하는 객체의 클래스의 변화가 자주 발생하는가 이다.</p><p><em>Visitor</em> 클래스 계통은 새로운 <em>ConcreteElement</em> 클래스가 자주 추가되는 상활에서는 유지하기가 상당히 까다롭다.</p><h4 id="클래스-계층-구조에-겅쳐서-방문한다"><span class="mr-2">클래스 계층 구조에 겅쳐서 방문한다</span><a href="#클래스-계층-구조에-겅쳐서-방문한다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><em>Iterator</em>는 객체 구조 내 원소를 순회하면서 그 원소의 연산을 호출하여 객체 방문을 수행할 수 있다. 그러나 서로다른 타입의 원소를 가지는 객체 구조를 오가면서 순회를 진행할 수는 없다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">Item</span><span class="p">&gt;</span>
<span class="k">class</span> <span class="nc">Iterator</span> <span class="p">{</span>
  
  <span class="p">...</span>

  <span class="n">Item</span> <span class="n">CurrentItem</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><p>즉, <em>Iterator</em>가 방문할 수 있는 모든 원소에는 공통적으로 <em>Item</em> 부모 클래스가 있다는 뜻이다.</p><p>방문자는 위와같은 <em>Iterator</em>의 제약을 가지지 않는다. 방문자는 동일한 부모 클래스가 없는 객체들도 방문 가능하다. <em>Visitor</em> 인터페이스에 어떤 객체의 타입이라도 추가할 수 있다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Visitor</span> <span class="p">{</span>
<span class="nl">public:</span>
  
  <span class="p">...</span>

  <span class="kt">void</span> <span class="n">VisitMyType</span><span class="p">(</span><span class="n">MyType</span><span class="o">*</span><span class="p">);</span>
  <span class="kt">void</span> <span class="n">VisitYourType</span><span class="p">(</span><span class="n">YourType</span><span class="o">*</span><span class="p">);</span>
<span class="p">};</span>
</pre></table></code></div></div><p><em>MyType</em> 및 <em>YourType</em>은 상속 등을 통해 관련될 필요가 전혀 없다.</p><h4 id="상태를-누적할-수-있다"><span class="mr-2">상태를 누적할 수 있다</span><a href="#상태를-누적할-수-있다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>방문자는 객체 구조 내 각 원소들을 방문하면서 샅태를 누적 할 수 있다. 만일 방문자가 없다면, 이 상태는 별도의 다른 인자로서 순회를 담당하는 연산에 전달되든지, 아니면 전역 변수로 존재해야 할 것이다.</p><h4 id="데이터-은닉을-깰-수-있다"><span class="mr-2">데이터 은닉을 깰 수 있다</span><a href="#데이터-은닉을-깰-수-있다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p><em>Visitor Pattern</em>은 <em>ConcreteElement</em> 인터페이스가 방문자에게 필요한 작업을 수행시킬만큼 충분히 강력하다는 가정을 깔고간다.즉, <em>Visitor Pattern</em>을 쓰면 개발자는 원소의 내부 상태에 접근하는 데 필요한 연산들을 모두 공개 인터페이스로 만들 수 밖에 없는데, 이는 캡슐화전략을 위배하는 것이다.</p><h2 id="implementation"><span class="mr-2">Implementation</span><a href="#implementation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><h3 id="considerations-point-in-implementaion"><span class="mr-2">Considerations point in implementaion</span><a href="#considerations-point-in-implementaion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>일반적으로 <em>Visitor</em> 클래스, <em>Element</em> 클래스, <em>ConcreteElement</em> 클래스, <em>CompositeElement</em> 클래스는 C++에서 아래와 같이 구현된다.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Visitor</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">VisitElementA</span><span class="p">(</span><span class="n">ElementA</span><span class="o">*</span><span class="p">);</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">VisitElementB</span><span class="p">(</span><span class="n">ElementB</span><span class="o">*</span><span class="p">);</span>

  <span class="c1">// 다른 구체연 요소들에 대한 visitor 연산</span>

  <span class="p">...</span>


<span class="nl">private:</span>
  <span class="n">Visitor</span><span class="p">();</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">Element</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">Element</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">Accept</span><span class="p">(</span><span class="n">Visitor</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="nl">protected:</span>
  <span class="n">Element</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">ElementA</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Element</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="n">ElementA</span><span class="p">();</span>
  <span class="kt">void</span> <span class="n">Accept</span><span class="p">(</span><span class="n">Visitor</span><span class="o">&amp;</span> <span class="n">v</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span> <span class="n">v</span><span class="p">.</span><span class="n">VisitorElementA</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">CompositeElement</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Element</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="kt">void</span> <span class="n">Accept</span><span class="p">(</span><span class="n">Visitor</span><span class="o">&amp;</span> <span class="n">v</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Element</span><span class="o">*&gt;</span> <span class="n">i</span><span class="p">(</span><span class="n">m_child</span><span class="p">);</span>

    <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">iter</span> <span class="o">:</span> <span class="n">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">iter</span><span class="o">-&gt;</span><span class="n">Accept</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">v</span><span class="p">.</span><span class="n">VisitCompositeElement</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>

<span class="nl">private:</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Element</span><span class="o">*&gt;</span> <span class="n">m_child</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><p><em>Visitor Pattern</em>을 적용할 때 생기는 구현 이슈 두가지에 대하여 아래와 같이 정리될 수 있다.</p><h4 id="이중-디스패치"><span class="mr-2">이중 디스패치</span><a href="#이중-디스패치" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>실질적으로 따지고보면, <em>Visitor Pattern</em>은 사용자가 클래스를 변경하지 않고 연산을 클래스에 추가하도록 만드는 패턴이다. 이를 위해 <strong>이중 디스패치(Double Dispatch)</strong> 라는 기법을 사용한다.</p><p>C++의 경우 <strong>단일 디스패치(Single Dispatch)</strong>를 지원한다. <em>단일 디스패치</em> 언어에서 어떤 연산이 요청을 처리할 것인지 결정하는 기준은 두가지 이다.</p><ul><li>요청의 이름<li>수신자의 타입</ul><p>예를들어, C++에서 <em>VariableRefNode</em> 인스턴스에 대해 <em>GernerateCode</em>를 호출하는 것은 <em>VariableRefNode::GernerateCode()</em> 를 호출하는 것이 된다. 즉, 실행되는 연산은 요청의 종류과 수신자의 타입에 따라 달라지게 되는 것이다.</p><p><em>이중 디스패치</em>는 실행되는 연산이 요청의 종류와 두 수신자의 타입에 따라 달라진다는 뜻이다. 위 예의 <em>Accept()</em> 연산은 이중 디스패치 연산으로, <em>Visitor</em>의 타입과 <em>Element</em>의 타입에 따라 달라지게 된다. 즉, 이중 디스패치를 쓰면 방문자는 원소의 각 클래스에 대해 서로 다른 연사늘 요청할 수 있다.</p><p>실제로 실행되는 연산은 <em>Visitor</em>의 타입과 그것이 방문하는 <em>Element</em>의 타입에 따라 달라진다는 점이 <em>Visitor Pattern</em>의 주요 핵심이다. 연산과 <em>Element</em> 인터페이스를 정적으로 바인딩하는 대신에, <em>Visitor</em> 내 연산들을 한 군데로 모으고 <em>Accept()</em> 연산을 사용해서 런타임에 바인딩을 진행 할 수 있다.</p><p><em>Element</em> 인터페이스를 확장하는 작업은 새로운 <em>Element</em> 서브클래스를 많이 정의하게 되는 것이 아니라, 하나의 방문자 서브클래스를 정의하는 정도의 작업으로 단순해진다.</p><h4 id="객체구조-순회의-책임"><span class="mr-2">객체구조 순회의 책임</span><a href="#객체구조-순회의-책임" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>방문자는 각 객체 구조 요소에 방문해야 한다.</p><p>순회를 위한 연산은 세곳 중 어떤곳이라도 놓일 수 있다.</p><ul><li>객체 구조<ul><li>컬렉션은 <em>Accept()</em> 연산을 호출함으로써 자신의 원소들을 순회<li>복합체는 각 <em>Accept()</em> 연산이 그 원소의 자식을 순회하고 다시 자식들에 대해 재귀적으로 <em>Accept()</em> 를 호출함으로써 순회를 진행</ul><li>방문자<ul><li><em>ConcreteElement</em>에 대한 <em>ConcreteVisitor</em> 마다 동일한 순회 알고리즘 코드를 중복시켜야 함<li>객체 구조에 대한 연산 호출의 결과에 따라 다른 복잡한 순회 방법을 구현 가능</ul><li>별도의 <em>Iterator</em> 객체<ul><li>내부 반복자, 외부 반복자를 통해 원소들을 순회</ul></ul><h3 id="implement-example"><span class="mr-2">Implement Example</span><a href="#implement-example" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
</pre><td class="rouge-code"><pre><span class="cm">/**
* @brief  Element - Equiment
* @details
*/</span>
<span class="k">class</span> <span class="nc">Equiment</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">Equiment</span><span class="p">();</span>

  <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">name</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m_name</span><span class="p">;</span> <span class="p">}</span>

  <span class="k">virtual</span> <span class="n">Watt</span> <span class="n">power</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="n">Currency</span> <span class="n">netPrice</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="n">Currency</span> <span class="n">discountPrice</span><span class="p">();</span>

  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">accept</span><span class="p">(</span><span class="n">EquimentVisitor</span><span class="o">&amp;</span><span class="p">);</span>

<span class="nl">protected:</span>
  <span class="n">Equiment</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span><span class="p">);</span>

<span class="nl">private:</span>
  <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">m_name</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**
* @brief  Visitor - EquimentVisitor
* @details 
*/</span>
<span class="k">class</span> <span class="nc">EquimentVisitor</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">EquimentVisotor</span><span class="p">();</span>

  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">VisitFloppyDisk</span><span class="p">(</span><span class="n">FloppyDisk</span><span class="o">*</span><span class="p">);</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">VisitCard</span><span class="p">(</span><span class="n">Card</span><span class="o">*</span><span class="p">);</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">VisitChassis</span><span class="p">(</span><span class="n">Chassis</span><span class="o">*</span><span class="p">);</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">VisitBus</span><span class="p">(</span><span class="n">Bus</span><span class="o">*</span><span class="p">);</span>

  <span class="c1">// Equiment의 구체 서브클래스를 위한 기타 연산들</span>

  <span class="p">...</span>

<span class="nl">protected:</span>
  <span class="n">EquimenVisitor</span><span class="p">();</span>
<span class="p">};</span>

<span class="cm">/**
* @brief  ConcreteElement - FloppyDisk
* @details 
*/</span>
<span class="k">class</span> <span class="nc">FloppyDisk</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Equiment</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="n">FloppyDisk</span><span class="p">();</span>

  <span class="kt">void</span> <span class="n">accept</span><span class="p">(</span><span class="n">EquimentVisitor</span><span class="o">&amp;</span> <span class="n">visitor</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span>
    <span class="n">visitor</span><span class="p">.</span><span class="n">VisitFloppyDisk</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="p">...</span>

<span class="p">};</span>

<span class="cm">/**
* @brief  ConcreteElement - Chassis
* @details
*/</span>
<span class="k">class</span> <span class="nc">Chassis</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Equiment</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="n">Chassis</span><span class="p">();</span>

  <span class="kt">void</span> <span class="n">accept</span><span class="p">(</span><span class="n">EquimentVisitor</span><span class="o">&amp;</span> <span class="n">visitor</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">iter</span> <span class="o">:</span> <span class="n">m_equimentVec</span><span class="p">){</span>
      <span class="n">iter</span><span class="p">.</span><span class="n">accept</span><span class="p">(</span><span class="n">visitor</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">visitor</span><span class="p">.</span><span class="n">VisitChassis</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="p">...</span>

<span class="nl">private:</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Equiment</span><span class="o">*&gt;</span> <span class="n">m_equimentVec</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/**
* @brief  ConcreteVisitor - Equiment
* @details
*/</span>
<span class="k">class</span> <span class="nc">PricingVisitor</span> <span class="o">:</span> <span class="k">public</span> <span class="n">EquimentVisitor</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="n">PricingVisitor</span><span class="p">();</span>

  <span class="n">Currency</span><span class="o">&amp;</span> <span class="n">getTotalPrice</span><span class="p">();</span>

  <span class="kt">void</span> <span class="n">VisitFloppyDisk</span><span class="p">(</span><span class="n">FloppyDisk</span><span class="o">*</span> <span class="n">e</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span> <span class="n">m_total</span> <span class="o">+=</span> <span class="n">e</span><span class="o">-&gt;</span><span class="n">netPrice</span><span class="p">();</span> <span class="p">}</span>
  <span class="kt">void</span> <span class="n">VisitCard</span><span class="p">(</span><span class="n">Card</span><span class="o">*</span> <span class="n">e</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
  <span class="kt">void</span> <span class="n">VisitChassis</span><span class="p">(</span><span class="n">Chassis</span><span class="o">*</span> <span class="n">e</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span> <span class="n">m_total</span> <span class="o">+=</span> <span class="n">e</span><span class="o">-&gt;</span><span class="n">discountPrice</span><span class="p">();</span> <span class="p">}</span>
  <span class="kt">void</span> <span class="n">VisitBus</span><span class="p">(</span><span class="n">Bus</span><span class="o">*</span> <span class="n">e</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>

  <span class="p">...</span>

<span class="nl">private:</span>
  <span class="n">Currency</span> <span class="n">m_total</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**
* @brief  ConcreteVisitor - Equiment
* @details
*/</span>
<span class="k">class</span> <span class="nc">InventoryVisitor</span> <span class="o">:</span> <span class="k">public</span> <span class="n">EquimentVisitor</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="n">InventoryVisitor</span><span class="p">();</span>

  <span class="n">Inventory</span><span class="o">&amp;</span> <span class="n">getInventory</span><span class="p">();</span>

  <span class="kt">void</span> <span class="n">VisitFloppyDisk</span><span class="p">(</span><span class="n">FloppyDisk</span><span class="o">*</span> <span class="n">e</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span> <span class="n">m_inventory</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">e</span><span class="p">);</span> <span class="p">}</span>
  <span class="kt">void</span> <span class="n">VisitCard</span><span class="p">(</span><span class="n">Card</span><span class="o">*</span> <span class="n">e</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
  <span class="kt">void</span> <span class="n">VisitChassis</span><span class="p">(</span><span class="n">Chassis</span><span class="o">*</span> <span class="n">e</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span> <span class="n">m_inventory</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">e</span><span class="p">);</span> <span class="p">}</span>
  <span class="kt">void</span> <span class="n">VisitBus</span><span class="p">(</span><span class="n">Bus</span><span class="o">*</span> <span class="n">e</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>

  <span class="p">...</span>

<span class="nl">private:</span>
  <span class="n">Inventory</span> <span class="n">m_inventory</span><span class="p">;</span>
<span class="p">};</span>


<span class="p">...</span>

  <span class="n">Equiment</span><span class="o">*</span> <span class="n">component</span><span class="p">;</span>
  <span class="n">InventoryVisitor</span> <span class="n">visitor</span><span class="p">;</span>

  <span class="n">component</span><span class="o">-&gt;</span><span class="n">accept</span><span class="p">(</span><span class="n">visitor</span><span class="p">);</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Inventory"</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Name : "</span> <span class="o">&lt;&lt;</span> <span class="n">component</span><span class="o">-&gt;</span><span class="n">name</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Inventory List : "</span> <span class="o">&lt;&lt;</span> <span class="n">visitor</span><span class="p">.</span><span class="n">getInventory</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  

<span class="p">...</span>

</pre></table></code></div></div><h2 id="related-pattern"><span class="mr-2">Related Pattern</span><a href="#related-pattern" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><p><em>Composite Pattern</em>이 정의하는 복합 객체 구조에 대해 연산을 적용하는 데 <em>Visitor Pattern</em>를 사용할 수 있다. <em>Visitor Pattern</em>은 <em>Interpreter Pattern</em>의 해석과정에도 사용 가능하다.</p><hr /><hr /><p><em>참고</em>. Design Patterns : Elements of Reusable Object-Oriented Software - Erich Gamma</p><hr /></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/design-patterns/'>Design Patterns</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/design-patterns/" class="post-tag no-text-decoration" >Design Patterns</a> <a href="/tags/behavioral-patterns/" class="post-tag no-text-decoration" >Behavioral Patterns</a> <a href="/tags/visitor/" class="post-tag no-text-decoration" >Visitor</a> <a href="/tags/c/" class="post-tag no-text-decoration" >C++</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Design Patterns - Visitor - My Technical Diary&amp;url=https://issuh.github.io/posts/design_patterns-visitor/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Design Patterns - Visitor - My Technical Diary&amp;u=https://issuh.github.io/posts/design_patterns-visitor/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://issuh.github.io/posts/design_patterns-visitor/&amp;text=Design Patterns - Visitor - My Technical Diary" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/educative-distributed-system-10/">Distributed Systems - Coordination Patterns</a><li><a href="/posts/educative-distributed-system-04/">Distributed Systems - CAP</a><li><a href="/posts/educative-distributed-system-03/">Distributed Systems - Replication</a><li><a href="/posts/my_project_simpledb/">simpleDB - 메모리</a><li><a href="/posts/ps-hackerrank-01/">HackerRandk - Fraudulent Activity Notifications</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ps/">PS</a> <a class="post-tag" href="/tags/leetcode/">Leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/spring-framework/">Spring Framework</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/hash/">Hash</a> <a class="post-tag" href="/tags/database/">DataBase</a> <a class="post-tag" href="/tags/tree/">Tree</a> <a class="post-tag" href="/tags/array/">Array</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/design_patterns-chain_of_responsibility/"><div class="card-body"> <em class="timeago small" data-ts="1587403140" > 2020-04-21 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Design Patterns - Chain of Responsibility</h3><div class="text-muted small"><p> Behavioral Patterns - Chain of Responsibility Intent 메세지를 보내는 객체와 이를 받아 처리하는 객체들 간의 결합도를 없애기 위한 패턴이다. 하나의 요청에 대한 처리가 반드시 한 객체에서만 되지 않고, 여러 객체에게 그 처리 기회를 주려는 것이다. Utility 하나 이상의 객체가 요청을 ...</p></div></div></a></div><div class="card"> <a href="/posts/design_patterns-command/"><div class="card-body"> <em class="timeago small" data-ts="1587504420" > 2020-04-22 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Design Patterns - Command</h3><div class="text-muted small"><p> Behavioral Patterns - Command Intent 요청 자체를 캡슐화하는 것이다. 이를 통해 요청이 서로 다른 사용자를 매개변수로 만들고, 요청을 대기시키거나 로깅하여, 되돌릴 수 있는 연산을 지원한다. 작동(Action), 트랜젝션(Transaction) 이라고도 불린다. Utility 수행할 동작을 객체로 매개변수화...</p></div></div></a></div><div class="card"> <a href="/posts/design_patterns-iterator/"><div class="card-body"> <em class="timeago small" data-ts="1587591600" > 2020-04-23 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Design Patterns - Iterator</h3><div class="text-muted small"><p> Behavioral Patterns - Iterator Intent 내부 표현부를 노출하지 않고 어떤 집합 객체에 속한 원소들을 순차적으로 접근할수 있는 방법을 제공한다. 커서(Cursor)라고도 불린다. Utility 객체 내부 표현 방식으로 모르고도 집합 객체의 각 원소들에 접근하고 싶을 떄 집합 객체를 순회하는 다양한 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/design_patterns-template_method/" class="btn btn-outline-primary" prompt="Older"><p>Design Patterns - Template Method</p></a> <a href="/posts/effective_c++_item_3/" class="btn btn-outline-primary" prompt="Newer"><p>Effective C++ - Item.3</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/ISSuh">ISSuh</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ps/">PS</a> <a class="post-tag" href="/tags/leetcode/">Leetcode</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/spring-framework/">Spring Framework</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/hash/">Hash</a> <a class="post-tag" href="/tags/database/">DataBase</a> <a class="post-tag" href="/tags/tree/">Tree</a> <a class="post-tag" href="/tags/array/">Array</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-157715138-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-157715138-1'); }); </script>
